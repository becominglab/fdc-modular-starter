# IA（情報アーキテクチャ）再編検討資料

**作成日:** 2025-11-25
**Phase:** 9.94-B UX向上ワークストリーム
**ステータス:** 提案中

---

## 1. 現状のナビゲーション構造

### 1.1 現在のタブ構成

```
Dashboard (/dashboard)
├── Overview (KPI)
├── TODO リスト（上位5件）
├── コンバージョンファネル
├── 失注理由分析
└── PDCA提案

Leads (/leads)
├── アプローチ実績
├── カンバン/リストビュー
├── 見込み客追加
├── CSVインポート
└── 失注分析

Clients (/clients)
├── 既存客リスト
├── 契約管理
└── 支払い追跡

Settings (/settings)
├── プロフィール
├── セキュリティ
└── 通知設定

Admin (/admin/system) - OWNER/ADMIN
├── ユーザー管理
├── システム設定
└── 監査ログ

SA (/admin/sa) - SA のみ
├── 全ワークスペース一覧
└── システム統計
```

### 1.2 問題点

| 問題 | 影響 | 深刻度 |
|------|------|--------|
| タブ数が多く認知負荷が高い | ユーザーが目的のページを見つけにくい | 中 |
| 機能の重複（Dashboard と Leads の失注分析） | 一貫性の欠如、メンテナンスコスト増 | 中 |
| モバイルでのタブスクロールが必要 | 操作性低下 | 高 |
| 階層が浅すぎる | 将来の機能追加で破綻リスク | 低 |

---

## 2. 改善提案

### 2.1 Option A: グループ化（推奨）

**コンセプト:** 関連機能をグループ化し、ドロップダウンメニューで整理

```
[ダッシュボード]  [営業]▼  [管理]▼  [設定]

営業ドロップダウン:
├── リード管理
├── 既存客管理
├── 失注分析
└── アプローチ実績

管理ドロップダウン（Admin権限のみ）:
├── ユーザー管理
├── システム設定
└── SA ダッシュボード
```

**メリット:**
- タブ数が 4 つに削減
- 関連機能がグループ化され直感的
- モバイルでもスクロール不要
- 将来の機能追加に対応しやすい

**デメリット:**
- クリック数が 1 回増える
- ドロップダウンのアクセシビリティ対応が必要

### 2.2 Option B: アイコンナビゲーション

**コンセプト:** アイコン + ラベルでコンパクトに表示

```
[📊 ダッシュボード] [🎯 リード] [👥 既存客] [⚙️ 設定] [🔧 管理]
```

**メリット:**
- 視覚的に識別しやすい
- 省スペース

**デメリット:**
- アイコンの意味が分かりにくい可能性
- アクセシビリティ対応が必須（aria-label）

### 2.3 Option C: ハンバーガーメニュー（モバイルのみ）

**コンセプト:** デスクトップは現状維持、モバイルはハンバーガーメニュー

```
Desktop: [ダッシュボード] [リード] [既存客] [設定] [管理]

Mobile: [☰] + ロゴ
        └── 全ナビゲーション項目
```

**メリット:**
- モバイルでのスペース効率向上
- デスクトップは変更なし

**デメリット:**
- ハンバーガーメニューは発見されにくい
- 2 つの UI パターンの維持が必要

---

## 3. 推奨案: Option A + C のハイブリッド

### 3.1 実装方針

1. **デスクトップ:** グループ化ドロップダウン
2. **タブレット:** 同上
3. **モバイル:** ハンバーガーメニュー（768px 以下）

### 3.2 新ナビゲーション構造

```tsx
// Desktop / Tablet
<nav aria-label="メインナビゲーション">
  <NavItem href="/dashboard">ダッシュボード</NavItem>

  <NavDropdown label="営業">
    <NavItem href="/leads">リード管理</NavItem>
    <NavItem href="/clients">既存客管理</NavItem>
    <NavItem href="/reports">レポート</NavItem>
  </NavDropdown>

  <NavItem href="/settings">設定</NavItem>

  {isAdmin && (
    <NavDropdown label="管理">
      <NavItem href="/admin/system">システム管理</NavItem>
      <NavItem href="/admin/sa">SA ダッシュボード</NavItem>
    </NavDropdown>
  )}
</nav>

// Mobile
<HamburgerMenu>
  <NavItem href="/dashboard">ダッシュボード</NavItem>
  <NavItem href="/leads">リード管理</NavItem>
  <NavItem href="/clients">既存客管理</NavItem>
  <NavItem href="/reports">レポート</NavItem>
  <NavItem href="/settings">設定</NavItem>
  {isAdmin && <NavItem href="/admin/system">管理</NavItem>}
</HamburgerMenu>
```

### 3.3 アクセシビリティ要件

| 要素 | 要件 |
|------|------|
| ドロップダウン | `role="menu"`, `aria-expanded`, キーボード操作対応 |
| ハンバーガー | `aria-label="メニューを開く"`, `aria-expanded` |
| アクティブ項目 | `aria-current="page"` |
| フォーカス管理 | Tab/Enter/Escape 対応 |

---

## 4. 機能の再配置

### 4.1 統合すべき機能

| 現在の場所 | 統合先 | 理由 |
|-----------|--------|------|
| Dashboard > 失注分析 | Leads > 失注分析 | 重複解消 |
| Dashboard > PDCA提案 | Leads > 失注分析 | 関連機能をまとめる |
| Admin > System | 管理 > システム | グループ化 |
| Admin > SA | 管理 > SA | グループ化 |

### 4.2 新規追加検討

| 機能 | 配置案 | 備考 |
|------|--------|------|
| TODO 詳細 | ダッシュボード or 新タブ | Phase 10 で検討 |
| カレンダー連携 | 営業 > カレンダー | 将来機能 |
| 通知センター | ヘッダー右上 | 将来機能 |

---

## 5. 実装ロードマップ

### Phase 1: モバイルハンバーガー（短期）
- 768px 以下でハンバーガーメニュー導入
- 現在のタブ構成は維持
- 工数: 1-2 日

### Phase 2: グループ化ドロップダウン（中期）
- デスクトップのドロップダウン実装
- アクセシビリティ対応
- 工数: 2-3 日

### Phase 3: 機能統合（Phase 10 以降）
- 重複機能の統合
- URL リダイレクト設定
- 工数: 1 日

---

## 6. KPI / 成功指標

| 指標 | 現状（推定） | 目標 |
|------|-------------|------|
| 目的ページへの到達クリック数 | 1-2 回 | 1-2 回（維持） |
| モバイルでのナビゲーション満足度 | 未計測 | 80%+ |
| Lighthouse アクセシビリティ | 未計測 | 95+ |
| 新規ユーザーのオンボーディング時間 | 未計測 | 30秒以内 |

---

## 7. 次のアクション

1. [ ] ステークホルダーとの合意形成
2. [ ] モバイルハンバーガーメニューのプロトタイプ作成
3. [ ] ユーザビリティテスト（可能であれば）
4. [ ] Phase 10 での実装計画策定

---

**最終更新:** 2025-11-25
**作成者:** Claude Code (Phase 9.94-B)
