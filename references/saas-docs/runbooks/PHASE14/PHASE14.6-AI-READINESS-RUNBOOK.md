# Phase 14.6: AIå°å…¥æº–å‚™ãƒ©ãƒ³ãƒ–ãƒƒã‚¯

## æ¦‚è¦

AIæ©Ÿèƒ½ã®æœ¬æ ¼å°å…¥å‰ã«å®Œäº†ã•ã›ã¦ãŠãã¹ãå…¨ä½œæ¥­ã‚’ç¶²ç¾…ã—ãŸå®Ÿè£…ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚
æŠ€è¡“çš„è² å‚µã®è§£æ¶ˆã€ãƒ‡ãƒ¼ã‚¿åŸºç›¤ã®æ•´å‚™ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã€ãƒ†ã‚¹ãƒˆæ‹¡å……ã‚’è¡Œã„ã¾ã™ã€‚

**Phase**: 14.6
**å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.8.4
**æœ€çµ‚æ›´æ–°**: 2025-12-02
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

---

## ç›®æ¬¡

1. [Phase 14.6 ã®ä½ç½®ã¥ã‘](#1-phase-146-ã®ä½ç½®ã¥ã‘)
2. [ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºä¸€è¦§](#2-ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºä¸€è¦§)
3. [Phase 14.6-A: ç›£æŸ»ãƒ­ã‚°ãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹å®Œæˆ](#phase-146-a-ç›£æŸ»ãƒ­ã‚°ã‚¬ãƒãƒŠãƒ³ã‚¹å®Œæˆ)
4. [Phase 14.6-B: ãƒ‡ãƒ¼ã‚¿æ•´å‚™ãƒ»æ­£è¦åŒ–](#phase-146-b-ãƒ‡ãƒ¼ã‚¿æ•´å‚™æ­£è¦åŒ–)
5. [Phase 14.6-C: AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŸºç›¤å¼·åŒ–](#phase-146-c-aiã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŸºç›¤å¼·åŒ–)
6. [Phase 14.6-D: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»å¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ ](#phase-146-d-ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ )
7. [Phase 14.6-E: å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹å¯è¦–åŒ–](#phase-146-e-å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹å¯è¦–åŒ–)
8. [Phase 14.6-F: ãƒ†ã‚¹ãƒˆãƒ»å“è³ªå¼·åŒ–](#phase-146-f-ãƒ†ã‚¹ãƒˆå“è³ªå¼·åŒ–)
9. [Phase 14.6-G: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»æ³•å‹™æ•´å‚™](#phase-146-g-ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ³•å‹™æ•´å‚™)
10. [å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«](#10-å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«)
11. [å“è³ªã‚²ãƒ¼ãƒˆ](#11-å“è³ªã‚²ãƒ¼ãƒˆ)
12. [ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †](#12-ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †)

---

## 1. Phase 14.6 ã®ä½ç½®ã¥ã‘

### 1.1 èƒŒæ™¯

Phase 14.5ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰å®Œäº†å¾Œã€AIæ©Ÿèƒ½ã®æœ¬æ ¼å°å…¥ï¼ˆPhase 15ï¼‰ã®å‰ã«
ä»¥ä¸‹ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼š

| ã‚«ãƒ†ã‚´ãƒª | èª²é¡Œ | AIå°å…¥ã¨ã®é–¢é€£ |
|---------|------|----------------|
| ç›£æŸ»ãƒ­ã‚° | AIä½¿ç”¨è¨˜éŒ²ãŒæœªå®Ÿè£…ï¼ˆTODOã‚³ãƒ¡ãƒ³ãƒˆçŠ¶æ…‹ï¼‰ | å¿…é ˆ |
| ãƒ‡ãƒ¼ã‚¿æ•´å‚™ | ã‚¿ã‚°ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæœªæ¨™æº–åŒ– | å¿…é ˆ |
| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼è‡ªå‹•ç”Ÿæˆãªã— | å¿…é ˆ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼æœªå®šç¾© | æ¨å¥¨ |
| ãƒ†ã‚¹ãƒˆ | 68ä»¶ã®ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ | æ¨å¥¨ |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | AIåˆ©ç”¨è¦ç´„ãƒ»ã‚¬ã‚¤ãƒ‰æœªæ•´å‚™ | å¿…é ˆ |

### 1.2 Phase 14.6 ã®ç›®æ¨™

**ã€ŒAIãŒæœ€å¤§é™ã«æ´»èºã§ãã‚‹åŸºç›¤ã‚’æ•´ãˆã‚‹ã€**

- AIãŒå‚ç…§ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å“è³ªã‚’æ‹…ä¿
- AIã®ä½¿ç”¨çŠ¶æ³ã‚’å®Œå…¨ã«è¿½è·¡å¯èƒ½ã«
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒAIã‚’å®‰å¿ƒã—ã¦ä½¿ãˆã‚‹æ³•çš„ãƒ»UXçš„åŸºç›¤ã‚’æ§‹ç¯‰
- å“è³ªãƒ†ã‚¹ãƒˆã‚’å……å®Ÿã•ã›ã€å›å¸°ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–

---

## 2. ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºä¸€è¦§

| ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚º | å†…å®¹ | å„ªå…ˆåº¦ | æ¨å®šå·¥æ•° | ä¾å­˜é–¢ä¿‚ |
|-------------|------|--------|----------|----------|
| **14.6-A** | ç›£æŸ»ãƒ­ã‚°ãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹å®Œæˆ | ğŸ”´ å¿…é ˆ | å° | ãªã— |
| **14.6-B** | ãƒ‡ãƒ¼ã‚¿æ•´å‚™ãƒ»æ­£è¦åŒ– | ğŸ”´ å¿…é ˆ | ä¸­ | ãªã— |
| **14.6-C** | AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŸºç›¤å¼·åŒ– | ğŸ”´ å¿…é ˆ | ä¸­ | 14.6-B |
| **14.6-D** | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»å¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ  | ğŸŸ¡ æ¨å¥¨ | ä¸­ | 14.6-B |
| **14.6-E** | å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹å¯è¦–åŒ– | ğŸŸ¡ æ¨å¥¨ | ä¸­ | 14.6-B |
| **14.6-F** | ãƒ†ã‚¹ãƒˆãƒ»å“è³ªå¼·åŒ– | ğŸŸ¡ æ¨å¥¨ | å¤§ | ãªã— |
| **14.6-G** | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»æ³•å‹™æ•´å‚™ | ğŸ”´ å¿…é ˆ | ä¸­ | ãªã— |

---

## Phase 14.6-A: ç›£æŸ»ãƒ­ã‚°ãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹å®Œæˆ

### A.1 ç›®çš„

- AIä½¿ç”¨å±¥æ­´ã®å®Œå…¨ãªè¿½è·¡
- ã‚³ã‚¹ãƒˆç®¡ç†ãƒ»ä½¿ç”¨é‡æŠŠæ¡
- ç›£æŸ»å¯¾å¿œãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹

### A.2 ç¾çŠ¶ã®å•é¡Œ

```typescript
// app/api/ai/chat/route.ts:98
// TODO: å®Ÿéš›ã® audit_logs ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®æŒ¿å…¥

// app/api/ai/chat/route.ts:225
// TODO: èªè¨¼å®Ÿè£…å¾Œã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—
```

### A.3 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-AUDIT

```
WS-AUDIT-1: AIç›£æŸ»ãƒ­ã‚°å®Ÿè£…
            app/api/ai/chat/route.ts
            - audit_logs ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®æŒ¿å…¥å®Ÿè£…
            - ãƒ¦ãƒ¼ã‚¶ãƒ¼IDå–å¾—ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ï¼‰
            - ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãƒ»ã‚³ã‚¹ãƒˆæ¨å®šã®è¨˜éŒ²

WS-AUDIT-2: pg_cron ã‚¸ãƒ§ãƒ–è¨­å®š
            Supabase Dashboard ã§æ‰‹å‹•è¨­å®š
            - archive-audit-logs: æ¯æ—¥ AM3:00 JST
            - purge-archived-logs: æ¯æœˆ1æ—¥ AM4:00 JST

WS-AUDIT-3: AIä½¿ç”¨é‡ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
            app/_components/admin/AIUsagePanel.tsx
            - ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥ä½¿ç”¨é‡è¡¨ç¤º
            - æ—¥æ¬¡/é€±æ¬¡/æœˆæ¬¡é›†è¨ˆ
            - ã‚³ã‚¹ãƒˆæ¨å®šè¡¨ç¤º
            - ã‚¯ã‚©ãƒ¼ã‚¿è­¦å‘Š

WS-AUDIT-4: AIä½¿ç”¨é‡API
            app/api/ai/usage/route.ts
            - GET: ä½¿ç”¨é‡çµ±è¨ˆå–å¾—
            - ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥ãƒ»æœŸé–“åˆ¥é›†è¨ˆ
```

### A.4 å®Ÿè£…è©³ç´°

#### Step 1: audit_logs ã¸ã® AI ä½¿ç”¨è¨˜éŒ²

```typescript
// app/api/ai/chat/route.ts ã«è¿½åŠ 
import { createAuditLog } from '@/lib/server/audit';

// ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†å¾Œ
await createAuditLog({
  user_id: session.userId,
  workspace_id: workspaceId,
  action: 'ai_chat',
  entity_type: 'ai_conversation',
  entity_id: conversationId,
  details: {
    model: 'gpt-4o-mini',
    prompt_tokens: usage.prompt_tokens,
    completion_tokens: usage.completion_tokens,
    total_tokens: usage.total_tokens,
    estimated_cost_usd: calculateCost(usage),
    context_level: contextLevel,
  },
});
```

#### Step 2: pg_cron è¨­å®šï¼ˆSupabase Dashboardï¼‰

```sql
-- æ¯æ—¥ AM3:00 JST ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å®Ÿè¡Œï¼ˆUTC 18:00ï¼‰
SELECT cron.schedule(
  'archive-audit-logs',
  '0 18 * * *',
  'SELECT archive_old_audit_logs()'
);

-- æ¯æœˆ1æ—¥ AM4:00 JST ã«5å¹´è¶…ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’å‰Šé™¤ï¼ˆUTC 19:00ï¼‰
SELECT cron.schedule(
  'purge-archived-logs',
  '0 19 1 * *',
  'SELECT purge_archived_audit_logs(5)'
);
```

### A.5 æˆæœç‰©

- `app/api/ai/chat/route.ts`ï¼ˆä¿®æ­£ï¼‰
- `app/api/ai/usage/route.ts`ï¼ˆæ–°è¦ï¼‰
- `app/_components/admin/AIUsagePanel.tsx`ï¼ˆæ–°è¦ï¼‰
- `lib/server/ai-cost.ts`ï¼ˆæ–°è¦: ã‚³ã‚¹ãƒˆè¨ˆç®—ï¼‰
- pg_cron ã‚¸ãƒ§ãƒ–è¨­å®šï¼ˆSupabase Dashboardï¼‰

### A.6 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] audit_logs ã¸ã® AI ä½¿ç”¨è¨˜éŒ²å®Ÿè£…
- [x] ãƒ¦ãƒ¼ã‚¶ãƒ¼IDå–å¾—ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å®Ÿè£…
- [x] pg_cron ã‚¸ãƒ§ãƒ–è¨­å®šå®Œäº†ï¼ˆ2025-12-05 CLIè¨­å®šæ¸ˆã¿ï¼‰
- [x] AIä½¿ç”¨é‡ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…ï¼ˆAIUsagePanel.tsxï¼‰
- [x] ã‚³ã‚¹ãƒˆæ¨å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ï¼ˆai-cost.tsï¼‰

---

## Phase 14.6-B: ãƒ‡ãƒ¼ã‚¿æ•´å‚™ãƒ»æ­£è¦åŒ–

### B.1 ç›®çš„

- AIãŒå‚ç…§ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å“è³ªå‘ä¸Š
- ã‚¿ã‚°ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ¨™æº–åŒ–
- å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ˜ç¢ºåŒ–

### B.2 ç¾çŠ¶ã®å•é¡Œ

| é …ç›® | ç¾çŠ¶ | å•é¡Œ |
|------|------|------|
| ã‚¿ã‚° | è‡ªç”±å…¥åŠ› | è¡¨è¨˜æºã‚Œã€é‡è¤‡ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã”ã¨ã«ç•°ãªã‚‹ | çµ±ä¸€æ€§ãªã— |
| å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å®šç¾©ã‚ã„ã¾ã„ | AIå‚ç…§æ™‚ã«æ¬ æãƒ‡ãƒ¼ã‚¿ |

### B.3 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-DATA

```
WS-DATA-1: ã‚¿ã‚°ãƒã‚¹ã‚¿å®šç¾©
           lib/types/tag-master.ts
           - è¦‹è¾¼ã¿å®¢ã‚¿ã‚°ã‚«ãƒ†ã‚´ãƒªï¼ˆæ¥­ç¨®ã€è¦æ¨¡ã€ã‚½ãƒ¼ã‚¹ç­‰ï¼‰
           - æ—¢å­˜å®¢ã‚¿ã‚°ã‚«ãƒ†ã‚´ãƒªï¼ˆå¥‘ç´„ç¨®åˆ¥ã€åˆ©ç”¨çŠ¶æ³ç­‰ï¼‰
           - ã‚¿ã‚¹ã‚¯ã‚¿ã‚°ã‚«ãƒ†ã‚´ãƒªï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€æ‹…å½“ç­‰ï¼‰

WS-DATA-2: ã‚¿ã‚°æ­£è¦åŒ–ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
           supabase/migrations/023_normalize_tags.sql
           - æ—¢å­˜ã‚¿ã‚°ã®åˆ†æãƒ»é›†è¨ˆ
           - é¡ä¼¼ã‚¿ã‚°ã®çµ±åˆãƒ«ãƒ¼ãƒ«
           - ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

WS-DATA-3: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€å®šç¾©
           lib/types/status-master.ts
           - å…±é€šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å®šç¾©
           - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°
           - ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã¨ã®ç´ä»˜ã‘

WS-DATA-4: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
           lib/types/required-fields.ts
           - AIå‚ç…§æ™‚ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
           - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¬ ææ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

WS-DATA-5: ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚«ãƒ¼
           lib/core/data-quality.ts
           - æ¬ æãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
           - ã‚¿ã‚°æ­£è¦åŒ–ã‚µã‚¸ã‚§ã‚¹ãƒˆ
           - å“è³ªã‚¹ã‚³ã‚¢ç®—å‡º

WS-DATA-6: ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
           app/_components/admin/DataQualityPanel.tsx
           - å“è³ªã‚¹ã‚³ã‚¢è¡¨ç¤º
           - æ”¹å–„ææ¡ˆãƒªã‚¹ãƒˆ
           - ä¸€æ‹¬ä¿®æ­£æ©Ÿèƒ½
```

### B.4 ã‚¿ã‚°ãƒã‚¹ã‚¿å®šç¾©æ¡ˆ

```typescript
// lib/types/tag-master.ts

export const TAG_CATEGORIES = {
  // è¦‹è¾¼ã¿å®¢ç”¨ã‚¿ã‚°
  lead: {
    industry: ['IT', 'SaaS', 'è£½é€ æ¥­', 'é‡‘è', 'ä¸å‹•ç”£', 'å°å£²', 'ãã®ä»–'],
    company_size: ['1-10å', '11-50å', '51-200å', '201-1000å', '1001åä»¥ä¸Š'],
    source: ['Webå•åˆã›', 'ç´¹ä»‹', 'å±•ç¤ºä¼š', 'ã‚»ãƒŸãƒŠãƒ¼', 'åºƒå‘Š', 'SNS', 'ãã®ä»–'],
    urgency: ['å³æ™‚', '3ãƒ¶æœˆä»¥å†…', 'åŠå¹´ä»¥å†…', '1å¹´ä»¥å†…', 'æƒ…å ±åé›†'],
  },

  // æ—¢å­˜å®¢ç”¨ã‚¿ã‚°
  client: {
    contract_type: ['æœˆé¡', 'å¹´é¡', 'ã‚¹ãƒãƒƒãƒˆ', 'ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º'],
    usage_status: ['ã‚¢ã‚¯ãƒ†ã‚£ãƒ–', 'ä¼‘çœ ', 'è§£ç´„äºˆå®š', 'æ‹¡å¤§è¦‹è¾¼'],
    satisfaction: ['é«˜', 'ä¸­', 'ä½', 'è¦ãƒ•ã‚©ãƒ­ãƒ¼'],
  },

  // ã‚¿ã‚¹ã‚¯ç”¨ã‚¿ã‚°
  task: {
    project: [], // ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å˜ä½ã§å®šç¾©
    priority_label: ['ç·Šæ€¥', 'é‡è¦', 'é€šå¸¸', 'ä½'],
  },
} as const;

export type TagCategory = keyof typeof TAG_CATEGORIES;
```

### B.5 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€å®šç¾©æ¡ˆ

```typescript
// lib/types/status-master.ts

// ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼åŸºæº–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
export const CUSTOMER_JOURNEY_STAGES = [
  'awareness',      // èªçŸ¥
  'interest',       // èˆˆå‘³
  'consideration',  // æ¤œè¨
  'intent',         // æ„å‘
  'evaluation',     // è©•ä¾¡
  'purchase',       // è³¼å…¥
  'retention',      // ç¶™ç¶š
  'advocacy',       // æ¨å¥¨
] as const;

// è¦‹è¾¼ã¿å®¢ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â†’ ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°
export const LEAD_STATUS_JOURNEY_MAP = {
  new: 'awareness',
  contacted: 'interest',
  qualified: 'consideration',
  proposal: 'intent',
  negotiation: 'evaluation',
  won: 'purchase',
  lost: null, // ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼é›¢è„±
} as const;

// æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨ãƒã‚¹ã‚¿
export const RECOMMENDED_ACTIONS = {
  new: ['åˆå›ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ', 'ãƒ‹ãƒ¼ã‚ºãƒ’ã‚¢ãƒªãƒ³ã‚°'],
  contacted: ['èª²é¡Œã®æ·±æ˜ã‚Š', 'äº‹ä¾‹ç´¹ä»‹'],
  qualified: ['ææ¡ˆæ›¸ä½œæˆ', 'ãƒ‡ãƒ¢å®Ÿæ–½'],
  proposal: ['ä¾¡æ ¼äº¤æ¸‰', 'å°å…¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´'],
  negotiation: ['æœ€çµ‚æ¡ä»¶æç¤º', 'æ±ºè£è€…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ'],
} as const;
```

### B.6 æˆæœç‰©

- `lib/types/tag-master.ts`
- `lib/types/status-master.ts`
- `lib/types/required-fields.ts`
- `lib/core/data-quality.ts`
- `app/_components/admin/DataQualityPanel.tsx`
- `supabase/migrations/023_normalize_tags.sql`ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### B.7 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] ã‚¿ã‚°ãƒã‚¹ã‚¿å®šç¾©å®Œäº†ï¼ˆtag-master.tsï¼‰
- [x] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€å®šç¾©å®Œäº†ï¼ˆstatus-master.tsï¼‰
- [x] å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©å®Œäº†ï¼ˆrequired-fields.tsï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚«ãƒ¼å®Ÿè£…ï¼ˆdata-quality.tsï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…ï¼ˆDataQualityPanel.tsxï¼‰

---

## Phase 14.6-C: AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŸºç›¤å¼·åŒ–

### C.1 ç›®çš„

- AIãŒå‚ç…§ã™ã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å“è³ªå‘ä¸Š
- ãƒ“ã‚¸ãƒã‚¹æƒ…å ±ã®è‡ªå‹•è¦ç´„
- ãƒšãƒ«ã‚½ãƒŠãƒ»ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæƒ…å ±ã®æ§‹é€ åŒ–

### C.2 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-CONTEXT

```
WS-CONTEXT-1: ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼è‡ªå‹•ç”Ÿæˆ
              lib/core/business-summary.ts
              - MVVï¼ˆMission/Vision/Valuesï¼‰ã‹ã‚‰ã®æŠ½å‡º
              - LeanCanvasã‹ã‚‰ã®æŠ½å‡º
              - OKRã‹ã‚‰ã®æŠ½å‡º
              - çµ±åˆã‚µãƒãƒªãƒ¼ç”Ÿæˆ

WS-CONTEXT-2: ãƒšãƒ«ã‚½ãƒŠæ§‹é€ åŒ–
              lib/core/persona-extractor.ts
              - LeanCanvas.customer_segment ã‹ã‚‰ã®æŠ½å‡º
              - è¦‹è¾¼ã¿å®¢ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ
              - ãƒšãƒ«ã‚½ãƒŠå®šç¾©ã®æ§‹é€ åŒ–

WS-CONTEXT-3: AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              lib/core/ai-prompt-templates.ts
              - ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ³¨å…¥ãƒ˜ãƒ«ãƒ‘ãƒ¼
              - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

WS-CONTEXT-4: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
              app/_components/ai/ContextPreview.tsx
              - ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
              - ãƒˆãƒ¼ã‚¯ãƒ³æ•°è¡¨ç¤º
              - ãƒ¬ãƒ™ãƒ«åˆ¥ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

WS-CONTEXT-5: AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¨­å®šUI
              app/_components/settings/AIContextSettings.tsx
              - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«é¸æŠ
              - å«ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã®é¸æŠ
              - ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ 
```

### C.3 ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯

```typescript
// lib/core/business-summary.ts

export interface BusinessSummary {
  // åŸºæœ¬æƒ…å ±
  companyOverview: string;
  targetCustomer: string;
  valueProposition: string;

  // æˆ¦ç•¥æƒ…å ±
  currentObjectives: string[];
  keyMetrics: string[];

  // å–¶æ¥­æƒ…å ±
  salesStages: string[];
  commonObjections: string[];
  successCases: string[];
}

export function generateBusinessSummary(
  workspaceData: WorkspaceData
): BusinessSummary {
  const { mvv, leanCanvas, okr, clients, leads } = workspaceData;

  return {
    companyOverview: extractCompanyOverview(mvv),
    targetCustomer: extractTargetCustomer(leanCanvas),
    valueProposition: extractValueProposition(leanCanvas),
    currentObjectives: extractCurrentObjectives(okr),
    keyMetrics: extractKeyMetrics(okr),
    salesStages: extractSalesStages(leads),
    commonObjections: extractCommonObjections(leads),
    successCases: extractSuccessCases(clients),
  };
}

// AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”¨ã®ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›
export function summaryToPromptText(summary: BusinessSummary): string {
  return `
## ã“ã®ãƒ“ã‚¸ãƒã‚¹ã«ã¤ã„ã¦

**ä¼šç¤¾æ¦‚è¦**: ${summary.companyOverview}

**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢**: ${summary.targetCustomer}

**æä¾›ä¾¡å€¤**: ${summary.valueProposition}

**ç¾åœ¨ã®ç›®æ¨™**:
${summary.currentObjectives.map(o => `- ${o}`).join('\n')}

**ä¸»è¦æŒ‡æ¨™**:
${summary.keyMetrics.map(m => `- ${m}`).join('\n')}
`.trim();
}
```

### C.4 æˆæœç‰©

- `lib/core/business-summary.ts`
- `lib/core/persona-extractor.ts`
- `lib/core/ai-prompt-templates.ts`
- `app/_components/ai/ContextPreview.tsx`
- `app/_components/settings/AIContextSettings.tsx`

### C.5 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼è‡ªå‹•ç”Ÿæˆå®Ÿè£…ï¼ˆbusiness-summary.tsï¼‰
- [x] ãƒšãƒ«ã‚½ãƒŠæŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ï¼ˆbusiness-summary.ts ã«çµ±åˆï¼‰
- [x] AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•´å‚™ï¼ˆai-prompt-templates.tsï¼‰
- [ ] ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè£…ï¼ˆContextPreview.tsxï¼‰â†’ **Phase 14.7ï¼ˆAIé–¢é€£ï¼‰ã«ç§»è¡Œ**
- [ ] AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¨­å®šUIå®Ÿè£…ï¼ˆAIContextSettings.tsxï¼‰â†’ **Phase 14.7ï¼ˆAIé–¢é€£ï¼‰ã«ç§»è¡Œ**

---

## Phase 14.6-D: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»å¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ 

### D.1 ç›®çš„

- AIç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§å‘ä¸Š
- å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã«ã‚ˆã‚‹è‡ªå‹•ç½®æ›
- å–¶æ¥­ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†

### D.2 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-TEMPLATE

```
WS-TEMPLATE-1: å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®šç¾©
              lib/types/template-variables.ts
              - é¡§å®¢æƒ…å ±å¤‰æ•°ï¼ˆ{{é¡§å®¢å}}, {{ä¼šç¤¾å}}ç­‰ï¼‰
              - å•†è«‡æƒ…å ±å¤‰æ•°ï¼ˆ{{èª²é¡Œ}}, {{ææ¡ˆå†…å®¹}}ç­‰ï¼‰
              - æ—¥ä»˜ãƒ»æœŸé™å¤‰æ•°
              - ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°

WS-TEMPLATE-2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³
              lib/core/template-engine.ts
              - å¤‰æ•°ç½®æ›å‡¦ç†
              - æ¡ä»¶åˆ†å²ï¼ˆ{{#if}}ï¼‰
              - ãƒ«ãƒ¼ãƒ—ï¼ˆ{{#each}}ï¼‰
              - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤

WS-TEMPLATE-3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ†ã‚´ãƒªå®šç¾©
              lib/types/template-categories.ts
              - messenger: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              - email: ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              - proposal: ææ¡ˆæ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              - closing: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
              - follow_up: ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

WS-TEMPLATE-4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†UI
              app/_components/settings/TemplateManager.tsx
              - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§
              - æ–°è¦ä½œæˆãƒ»ç·¨é›†
              - ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿
              - å¤‰æ•°æŒ¿å…¥ãƒ˜ãƒ«ãƒ‘ãƒ¼

WS-TEMPLATE-5: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨UI
              app/_components/ai/TemplateApplicator.tsx
              - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
              - å¤‰æ•°ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
              - AIè£œå®Œã¨ã®é€£æº
```

### D.3 å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®šç¾©æ¡ˆ

```typescript
// lib/types/template-variables.ts

export const TEMPLATE_VARIABLES = {
  // é¡§å®¢æƒ…å ±
  customer: {
    '{{é¡§å®¢å}}': { path: 'lead.name', fallback: 'ãŠå®¢æ§˜' },
    '{{ä¼šç¤¾å}}': { path: 'lead.company', fallback: 'å¾¡ç¤¾' },
    '{{å½¹è·}}': { path: 'lead.position', fallback: '' },
    '{{æ¥­ç¨®}}': { path: 'lead.industry', fallback: '' },
  },

  // å•†è«‡æƒ…å ±
  deal: {
    '{{èª²é¡Œ}}': { path: 'lead.notes.challenge', fallback: 'èª²é¡Œ' },
    '{{ææ¡ˆå†…å®¹}}': { path: 'proposal.summary', fallback: '' },
    '{{è¦‹ç©é‡‘é¡}}': { path: 'proposal.amount', format: 'currency' },
    '{{å°å…¥äºˆå®šæ—¥}}': { path: 'proposal.startDate', format: 'date' },
  },

  // è‡ªç¤¾æƒ…å ±
  company: {
    '{{è‡ªç¤¾å}}': { path: 'workspace.company_name', fallback: '' },
    '{{æ‹…å½“è€…å}}': { path: 'user.name', fallback: '' },
    '{{æ‹…å½“è€…ãƒ¡ãƒ¼ãƒ«}}': { path: 'user.email', fallback: '' },
  },

  // æ—¥ä»˜
  date: {
    '{{ä»Šæ—¥}}': { type: 'dynamic', value: () => formatDate(new Date()) },
    '{{æ˜æ—¥}}': { type: 'dynamic', value: () => formatDate(addDays(new Date(), 1)) },
    '{{æ¥é€±}}': { type: 'dynamic', value: () => formatDate(addWeeks(new Date(), 1)) },
  },
} as const;
```

### D.4 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹

```typescript
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹
const MESSAGE_TEMPLATES = {
  initial_contact: {
    name: 'åˆå›ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ',
    category: 'messenger',
    content: `
{{ä¼šç¤¾å}} {{é¡§å®¢å}}æ§˜

ãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™ã€‚
{{è‡ªç¤¾å}}ã®{{æ‹…å½“è€…å}}ã§ã™ã€‚

å…ˆæ—¥ã¯{{ã‚½ãƒ¼ã‚¹}}ã«ã¦ãŠå•ã„åˆã‚ã›ã„ãŸã ãã€
èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

{{èª²é¡Œ}}ã«ã¤ã„ã¦ã€ãœã²ãŠè©±ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚
{{æ¥é€±}}ã‚ãŸã‚Šã§30åˆ†ã»ã©ãŠæ™‚é–“ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿ

ã”éƒ½åˆã®è‰¯ã„æ—¥æ™‚ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã ã‘ã¾ã™ã¨å¹¸ã„ã§ã™ã€‚
    `.trim(),
  },

  follow_up: {
    name: 'ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—',
    category: 'follow_up',
    content: `
{{é¡§å®¢å}}æ§˜

å…ˆæ—¥ã¯ãŠæ™‚é–“ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

{{ææ¡ˆå†…å®¹}}ã«ã¤ã„ã¦ã€ã”æ¤œè¨çŠ¶æ³ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ
ã”ä¸æ˜ç‚¹ã‚„ã”è³ªå•ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠç”³ã—ä»˜ã‘ãã ã•ã„ã€‚

{{#if å°å…¥äºˆå®šæ—¥}}
{{å°å…¥äºˆå®šæ—¥}}ã®ãŠæ‰“ã¡åˆã‚ã›ã«å‘ã‘ã¦ã€æº–å‚™ã‚’é€²ã‚ã¦ãŠã‚Šã¾ã™ã€‚
{{/if}}
    `.trim(),
  },
};
```

### D.5 æˆæœç‰©

- `lib/types/template-variables.ts`
- `lib/types/template-categories.ts`
- `lib/core/template-engine.ts`
- `app/_components/settings/TemplateManager.tsx`
- `app/_components/ai/TemplateApplicator.tsx`

### D.6 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®šç¾©å®Œäº†ï¼ˆtemplate-variables.tsï¼‰
- [x] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…ï¼ˆtemplate-engine.tsï¼‰
- [x] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ†ã‚´ãƒªå®šç¾©ï¼ˆtemplate-categories.tsï¼‰
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†UIå®Ÿè£…ï¼ˆTemplateManager.tsxï¼‰
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨UIå®Ÿè£…ï¼ˆTemplateApplicator.tsxï¼‰â†’ **Phase 14.7ï¼ˆAIé–¢é€£ï¼‰ã«ç§»è¡Œ**

---

## Phase 14.6-E: å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹å¯è¦–åŒ–

### E.1 ç›®çš„

- ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã®æ˜ç¢ºåŒ–
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ãƒ•ã‚§ãƒ¼ã‚ºã®ç´ä»˜ã‘
- æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆã®åŸºç›¤æ§‹ç¯‰

### E.2 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-PROCESS

```
WS-PROCESS-1: ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼å®šç¾©
              lib/types/customer-journey.ts
              - ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¸å®šç¾©
              - ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥KPI
              - é·ç§»æ¡ä»¶

WS-PROCESS-2: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹-ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°
              lib/core/journey-mapping.ts
              - è¦‹è¾¼ã¿å®¢ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â†’ ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼
              - æ—¢å­˜å®¢ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â†’ ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼
              - ãƒãƒƒãƒ”ãƒ³ã‚°æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯

WS-PROCESS-3: æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨ã‚¨ãƒ³ã‚¸ãƒ³
              lib/core/action-recommender.ts
              - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
              - æ»ç•™æ—¥æ•°è€ƒæ…®
              - AIææ¡ˆé€£æº

WS-PROCESS-4: ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ•ã‚¡ãƒãƒ«å¯è¦–åŒ–
              app/_components/reports/JourneyFunnel.tsx
              - ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥ä»¶æ•°è¡¨ç¤º
              - ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡
              - ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š

WS-PROCESS-5: æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆUI
              app/_components/leads/NextActionSuggestion.tsx
              - æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
              - ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å®Ÿè¡Œ
              - AIç”Ÿæˆã‚ªãƒ—ã‚·ãƒ§ãƒ³
```

### E.3 ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼å¯è¦–åŒ–ã‚¤ãƒ¡ãƒ¼ã‚¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  èªçŸ¥      èˆˆå‘³      æ¤œè¨      æ„å‘      è©•ä¾¡      è³¼å…¥       â”‚
â”‚  â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”          â”‚
â”‚  â”‚150â”‚ â†’ â”‚ 80â”‚ â†’ â”‚ 45â”‚ â†’ â”‚ 25â”‚ â†’ â”‚ 15â”‚ â†’ â”‚ 10â”‚          â”‚
â”‚  â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜          â”‚
â”‚         53%      56%      56%      60%      67%           â”‚
â”‚                                                             â”‚
â”‚  ãƒœãƒˆãƒ«ãƒãƒƒã‚¯: èªçŸ¥â†’èˆˆå‘³ (47%é›¢è„±)                            â”‚
â”‚  æ¨å¥¨æ”¹å–„: åˆå›ã‚³ãƒ³ã‚¿ã‚¯ãƒˆã®è³ªå‘ä¸Š                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### E.4 æˆæœç‰©

- `lib/types/customer-journey.ts`
- `lib/core/journey-mapping.ts`
- `lib/core/action-recommender.ts`
- `app/_components/reports/JourneyFunnel.tsx`
- `app/_components/leads/NextActionSuggestion.tsx`

### E.5 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼å®šç¾©å®Œäº†ï¼ˆcustomer-journey.tsï¼‰
- [x] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹-ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°å®Ÿè£…ï¼ˆcustomer-journey.ts å†…ï¼‰
- [x] æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…ï¼ˆaction-recommender.tsï¼‰
- [ ] ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ•ã‚¡ãƒãƒ«å¯è¦–åŒ–å®Ÿè£…ï¼ˆJourneyFunnel.tsxï¼‰
- [ ] æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆUIå®Ÿè£…ï¼ˆNextActionSuggestion.tsxï¼‰

---

## Phase 14.6-F: ãƒ†ã‚¹ãƒˆãƒ»å“è³ªå¼·åŒ–

### F.1 ç›®çš„

- ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆã®å®Ÿè£…
- AIé–¢é€£E2Eãƒ†ã‚¹ãƒˆã®è¿½åŠ 
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®å‘ä¸Š

### F.2 ç¾çŠ¶ã®ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆï¼ˆ68ä»¶ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¹ã‚­ãƒƒãƒ—æ•° | å†…å®¹ |
|----------|-----------|------|
| `tests/unit/phase10/streak-calculator.test.ts` | 6 | ã‚¹ãƒˆãƒªãƒ¼ã‚¯è¨ˆç®— |
| `tests/unit/phase11/progress-calculator.test.ts` | 5 | é€²æ—è¨ˆç®— |
| `tests/unit/phase12/kr-calculator.test.ts` | 7 | KRè¨ˆç®— |
| ãã®ä»– | 50+ | å„ç¨®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |

### F.3 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-TEST

```
WS-TEST-1: Phase 10 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…
           tests/unit/phase10/
           - streak-calculator.test.ts ã®å®Ÿè£…
           - habit-tracker.test.ts ã®å®Ÿè£…

WS-TEST-2: Phase 11 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…
           tests/unit/phase11/
           - progress-calculator.test.ts ã®å®Ÿè£…
           - action-item.test.ts ã®å®Ÿè£…

WS-TEST-3: Phase 12 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…
           tests/unit/phase12/
           - kr-calculator.test.ts ã®å®Ÿè£…
           - objective-progress.test.ts ã®å®Ÿè£…

WS-TEST-4: AIé–¢é€£E2Eãƒ†ã‚¹ãƒˆè¿½åŠ 
           tests/e2e/ai-features.spec.ts
           - AIãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
           - AIç„¡åŠ¹æ™‚ã®å‹•ä½œãƒ†ã‚¹ãƒˆ
           - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ†ã‚¹ãƒˆ
           - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ãƒ†ã‚¹ãƒˆ

WS-TEST-5: ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ†ã‚¹ãƒˆ
           tests/unit/data-quality/
           - ã‚¿ã‚°æ­£è¦åŒ–ãƒ†ã‚¹ãƒˆ
           - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
           - å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

WS-TEST-6: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ã‚¹ãƒˆ
           tests/unit/template-engine/
           - å¤‰æ•°ç½®æ›ãƒ†ã‚¹ãƒˆ
           - æ¡ä»¶åˆ†å²ãƒ†ã‚¹ãƒˆ
           - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
```

### F.4 AIé–¢é€£E2Eãƒ†ã‚¹ãƒˆä¾‹

```typescript
// tests/e2e/ai-features.spec.ts

import { test, expect } from '@playwright/test';

test.describe('AIæ©Ÿèƒ½', () => {
  test('AIæœ‰åŠ¹æ™‚ã«ãƒãƒ£ãƒƒãƒˆãŒä½¿ç”¨ã§ãã‚‹', async ({ page }) => {
    // AIãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ã‚’é–‹ã
    await page.click('[data-testid="ai-chat-button"]');

    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡
    await page.fill('[data-testid="ai-chat-input"]', 'ã“ã‚“ã«ã¡ã¯');
    await page.click('[data-testid="ai-chat-send"]');

    // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ã¤
    await expect(page.locator('[data-testid="ai-response"]')).toBeVisible({
      timeout: 10000,
    });
  });

  test('AIç„¡åŠ¹æ™‚ã«é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async ({ page }) => {
    // AIç„¡åŠ¹è¨­å®š
    await page.goto('/settings');
    await page.click('[data-testid="ai-toggle"]');

    // ãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ã‚’é–‹ã
    await page.click('[data-testid="ai-chat-button"]');

    // ç„¡åŠ¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
    await expect(page.locator('text=AIæ©Ÿèƒ½ã¯ã‚ªãƒ•ã§ã™')).toBeVisible();
  });

  test('ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒæ©Ÿèƒ½ã™ã‚‹', async ({ page }) => {
    // 6å›é€£ç¶šã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆåˆ¶é™ã¯5å›/åˆ†ï¼‰
    for (let i = 0; i < 6; i++) {
      await page.fill('[data-testid="ai-chat-input"]', `ãƒ†ã‚¹ãƒˆ${i}`);
      await page.click('[data-testid="ai-chat-send"]');
    }

    // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
    await expect(page.locator('text=ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶é™')).toBeVisible();
  });
});
```

### F.5 æˆæœç‰©

- `tests/unit/phase10/*.test.ts`ï¼ˆä¿®æ­£ï¼‰
- `tests/unit/phase11/*.test.ts`ï¼ˆä¿®æ­£ï¼‰
- `tests/unit/phase12/*.test.ts`ï¼ˆä¿®æ­£ï¼‰
- `tests/e2e/ai-features.spec.ts`ï¼ˆæ–°è¦ï¼‰
- `tests/unit/data-quality/*.test.ts`ï¼ˆæ–°è¦ï¼‰
- `tests/unit/template-engine/*.test.ts`ï¼ˆæ–°è¦ï¼‰

### F.6 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] Phase 10 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ6ä»¶ï¼‰â†’ å…¨ã¦è§£é™¤ãƒ»ãƒ‘ã‚¹
- [x] Phase 11 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ7ä»¶ï¼‰â†’ å…¨ã¦è§£é™¤ãƒ»ãƒ‘ã‚¹
- [x] Phase 12 ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ9ä»¶ï¼‰â†’ å…¨ã¦è§£é™¤ãƒ»ãƒ‘ã‚¹
- [ ] AIé–¢é€£E2Eãƒ†ã‚¹ãƒˆè¿½åŠ  â†’ Phase 14.7ï¼ˆAIæœ¬æ ¼å°å…¥ï¼‰ã«ç§»è¡Œ
- [x] ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆ19ä»¶ãƒ‘ã‚¹: tests/unit/phase14.6/data-quality.test.tsï¼‰
- [x] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆ18ä»¶ãƒ‘ã‚¹: tests/unit/phase14.6/template-engine.test.tsï¼‰
- [x] Unitãƒ†ã‚¹ãƒˆå…¨ãƒ‘ã‚¹ç¢ºèªï¼ˆ129ä»¶ãƒ‘ã‚¹ã€ã‚¹ã‚­ãƒƒãƒ—0ä»¶ï¼‰

**E2Eãƒ†ã‚¹ãƒˆ skip çŠ¶æ³ï¼ˆãƒãƒƒã‚¯ãƒ­ã‚°ï¼‰:**
- 107ä»¶ã®E2E skipãƒ†ã‚¹ãƒˆã¯Phase 15ä»¥é™ã§æ®µéšçš„ã«è§£æ¶ˆäºˆå®š
- è‡´å‘½çš„ãªæŠ€è¡“è² å‚µã¯ã‚¼ãƒ­ã€Phase 14.7 é€²è¡Œå¯èƒ½

---

## Phase 14.6-G: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»æ³•å‹™æ•´å‚™

### G.1 ç›®çš„

- AIåˆ©ç”¨è¦ç´„ã®æ˜ç¢ºåŒ–
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®æ›´æ–°

### G.2 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒˆãƒªãƒ¼ãƒ  WS-DOC

```
WS-DOC-1: AIåˆ©ç”¨è¦ç´„
          docs/legal/AI-TERMS.md
          - AIæ©Ÿèƒ½ã®ç¯„å›²
          - ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šæ‰±ã„
          - å…è²¬äº‹é …
          - ç¦æ­¢äº‹é …

WS-DOC-2: AIæ©Ÿèƒ½ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰
          docs/guides/AI-USER-GUIDE.md
          - AIæ©Ÿèƒ½ã®ä½¿ã„æ–¹
          - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã®èª¬æ˜
          - ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
          - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

WS-DOC-3: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æ›´æ–°
          app/(marketing)/privacy/page.tsx
          - AIæ©Ÿèƒ½ã«é–¢ã™ã‚‹è¿½è¨˜
          - ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æ˜ç¢ºåŒ–
          - ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆæ–¹æ³•

WS-DOC-4: LPã¸ã®AIæ©Ÿèƒ½èª¬æ˜è¿½åŠ 
          app/(marketing)/LandingPage.tsx
          - AIæ©Ÿèƒ½ã®ç´¹ä»‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³
          - åˆ©ç”¨ä¾‹
          - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£èª¬æ˜

WS-DOC-5: FAQæ›´æ–°
          app/(marketing)/sections/FAQSection.tsx
          - AIé–¢é€£FAQè¿½åŠ 
          - ãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£FAQ
          - æ–™é‡‘ãƒ»åˆ¶é™FAQ
```

### G.3 AIåˆ©ç”¨è¦ç´„ï¼ˆè‰æ¡ˆï¼‰

```markdown
# AIæ©Ÿèƒ½åˆ©ç”¨è¦ç´„

## 1. AIæ©Ÿèƒ½ã®ç¯„å›²

FDCã®AIæ©Ÿèƒ½ã¯ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ï¼š
- å–¶æ¥­æˆ¦ç•¥ã«é–¢ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹
- ã‚¿ã‚¹ã‚¯å„ªå…ˆé †ä½ã®ææ¡ˆ
- ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆãƒ»ç·¨é›†æ”¯æ´
- ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»è¦ç´„

## 2. ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šæ‰±ã„

- AIã¸ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯OpenAI APIã«é€ä¿¡ã•ã‚Œã¾ã™
- å€‹äººæƒ…å ±ï¼ˆãƒ¡ãƒ¼ãƒ«ã€é›»è©±ç•ªå·ã€æ°åï¼‰ã¯è‡ªå‹•çš„ã«ãƒã‚¹ã‚¯ã•ã‚Œã¾ã™
- AIã¨ã®ä¼šè©±å±¥æ­´ã¯ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚Šé€ä¿¡ãƒ‡ãƒ¼ã‚¿é‡ã‚’èª¿æ•´ã§ãã¾ã™

## 3. å…è²¬äº‹é …

- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯å‚è€ƒæƒ…å ±ã§ã‚ã‚Šã€æœ€çµ‚åˆ¤æ–­ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡Œã£ã¦ãã ã•ã„
- AIã®å›ç­”ã®æ­£ç¢ºæ€§ã€å®Œå…¨æ€§ã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“
- AIã®å›ç­”ã«åŸºã¥ãè¡Œå‹•ã«ã‚ˆã‚‹æå®³ã«ã¤ã„ã¦ã€å½“ç¤¾ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“

## 4. ç¦æ­¢äº‹é …

- é•æ³•è¡Œç‚ºã‚’ç›®çš„ã¨ã—ãŸAIåˆ©ç”¨
- ç¬¬ä¸‰è€…ã®æ¨©åˆ©ã‚’ä¾µå®³ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç”Ÿæˆ
- AIæ©Ÿèƒ½ã®é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ãƒ»ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
```

### G.4 æˆæœç‰©

- `docs/legal/AI-TERMS.md`ï¼ˆæ–°è¦ï¼‰
- `docs/guides/AI-USER-GUIDE.md`ï¼ˆæ–°è¦ï¼‰
- `app/(marketing)/privacy/page.tsx`ï¼ˆä¿®æ­£ï¼‰
- `app/(marketing)/LandingPage.tsx`ï¼ˆä¿®æ­£ï¼‰
- `app/(marketing)/sections/FAQSection.tsx`ï¼ˆä¿®æ­£ï¼‰

### G.5 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] AIåˆ©ç”¨è¦ç´„ä½œæˆï¼ˆdocs/è¦ç´„/AIåˆ©ç”¨è¦ç´„.mdï¼‰
- [ ] AIæ©Ÿèƒ½ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ä½œæˆï¼ˆdocs/guides/AI-USER-GUIDE.mdï¼‰
- [x] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æ›´æ–°ï¼ˆæ—¢å­˜ã§å¯¾å¿œæ¸ˆã¿ï¼‰
- [x] LP AIæ©Ÿèƒ½èª¬æ˜è¿½åŠ ï¼ˆLandingPage.tsx ã«ãƒªãƒ³ã‚¯è¿½åŠ ï¼‰
- [x] AIåˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸ä½œæˆï¼ˆapp/ai-terms/page.tsxï¼‰
- [ ] FAQæ›´æ–°ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ - å¿…è¦ã«å¿œã˜ã¦ï¼‰

---

## 10. å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### 10.1 æ¨å¥¨å®Ÿè£…é †åº

```
Week 1: Phase 14.6-Aï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰+ 14.6-Gï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
        - æœ€å„ªå…ˆã®ç›£æŸ»ãƒ­ã‚°å®Ÿè£…
        - æ³•å‹™ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸¦è¡Œä½œæ¥­

Week 2: Phase 14.6-Bï¼ˆãƒ‡ãƒ¼ã‚¿æ•´å‚™ï¼‰
        - ã‚¿ã‚°ãƒã‚¹ã‚¿å®šç¾©
        - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€
        - ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚«ãƒ¼

Week 3: Phase 14.6-Cï¼ˆAIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰+ 14.6-Eï¼ˆå–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹ï¼‰
        - ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
        - ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼
        - æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨

Week 4: Phase 14.6-Dï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
        - å¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ 
        - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³
        - ç®¡ç†UI

Week 5: Phase 14.6-Fï¼ˆãƒ†ã‚¹ãƒˆï¼‰
        - ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Ÿè£…
        - AIé–¢é€£E2Eãƒ†ã‚¹ãƒˆ
        - ç·åˆãƒ†ã‚¹ãƒˆ

Week 6: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒã‚°ä¿®æ­£ãƒ»ãƒªãƒªãƒ¼ã‚¹æº–å‚™
```

### 10.2 ä¾å­˜é–¢ä¿‚å›³

```
14.6-A (ç›£æŸ»ãƒ­ã‚°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚
14.6-B (ãƒ‡ãƒ¼ã‚¿æ•´å‚™) â”€â”€â”¬â”€â”€ 14.6-C (AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ) â”€â”€â”€â”€â”€â”€â”€â”¤
                      â”‚                                   â”‚
                      â”œâ”€â”€ 14.6-D (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                      â”‚                                   â”‚
                      â””â”€â”€ 14.6-E (å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                          â”‚
14.6-F (ãƒ†ã‚¹ãƒˆ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                          â”‚
14.6-G (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                          â–¼
                                                   Phase 14.6 å®Œäº†
                                                          â”‚
                                                          â–¼
                                                   Phase 15 (AIæœ¬æ ¼å°å…¥)
```

---

## 11. å“è³ªã‚²ãƒ¼ãƒˆ

### 11.1 Phase 14.6 å®Œäº†æ¡ä»¶

| ã‚«ãƒ†ã‚´ãƒª | æ¡ä»¶ | æ¤œè¨¼æ–¹æ³• |
|---------|------|----------|
| **ç›£æŸ»ãƒ­ã‚°** | | |
| AIä½¿ç”¨è¨˜éŒ² | å…¨AIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¨˜éŒ²ã•ã‚Œã‚‹ | audit_logsç¢ºèª |
| pg_cronã‚¸ãƒ§ãƒ– | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ»å‰Šé™¤ãŒå‹•ä½œ | Supabase logsç¢ºèª |
| ä½¿ç”¨é‡ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | æ­£å¸¸è¡¨ç¤º | E2Eãƒ†ã‚¹ãƒˆ |
| **ãƒ‡ãƒ¼ã‚¿æ•´å‚™** | | |
| ã‚¿ã‚°ãƒã‚¹ã‚¿ | å®šç¾©å®Œäº†ã€UIã§é¸æŠå¯èƒ½ | æ‰‹å‹•ãƒ†ã‚¹ãƒˆ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€ | ãƒãƒƒãƒ”ãƒ³ã‚°å®Œäº† | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| ãƒ‡ãƒ¼ã‚¿å“è³ª | ã‚¹ã‚³ã‚¢è¡¨ç¤ºã€æ”¹å–„ææ¡ˆè¡¨ç¤º | E2Eãƒ†ã‚¹ãƒˆ |
| **AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ** | | |
| ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼ | è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | æ­£å¸¸è¡¨ç¤º | E2Eãƒ†ã‚¹ãƒˆ |
| **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** | | |
| å¤‰æ•°ç½®æ› | æ­£å¸¸å‹•ä½œ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†UI | CRUDå‹•ä½œ | E2Eãƒ†ã‚¹ãƒˆ |
| **å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹** | | |
| ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ•ã‚¡ãƒãƒ« | æ­£å¸¸è¡¨ç¤º | E2Eãƒ†ã‚¹ãƒˆ |
| æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ | æ­£å¸¸è¡¨ç¤º | E2Eãƒ†ã‚¹ãƒˆ |
| **ãƒ†ã‚¹ãƒˆ** | | |
| ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ | 0ä»¶ | `npm run test:unit` |
| AI E2Eãƒ†ã‚¹ãƒˆ | å…¨ãƒ‘ã‚¹ | `npm run test:e2e` |
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** | | |
| AIåˆ©ç”¨è¦ç´„ | ä½œæˆå®Œäº†ã€ãƒªãƒ³ã‚¯è¨­ç½® | æ‰‹å‹•ç¢ºèª |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ | ä½œæˆå®Œäº† | æ‰‹å‹•ç¢ºèª |
| ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ | æ›´æ–°å®Œäº† | æ‰‹å‹•ç¢ºèª |

### 11.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] AIä½¿ç”¨ãƒ­ã‚°ã«å€‹äººæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ãªã„
- [ ] ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®PIIãƒã‚¹ã‚­ãƒ³ã‚°ãŒå‹•ä½œ
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒå…¨AIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«é©ç”¨
- [ ] APIã‚­ãƒ¼æš—å·åŒ–ãŒæ­£å¸¸å‹•ä½œ
- [ ] AIç„¡åŠ¹æ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ¬ãƒ¼ãƒ‰

### 11.3 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–

| æŒ‡æ¨™ | ç›®æ¨™ |
|------|------|
| ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼ç”Ÿæˆ | < 500ms |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ç½®æ› | < 100ms |
| ãƒ‡ãƒ¼ã‚¿å“è³ªã‚¹ã‚³ã‚¢ç®—å‡º | < 1s |
| ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ•ã‚¡ãƒãƒ«è¡¨ç¤º | < 2s |

---

## 12. ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †

### 12.1 å„ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### Phase 14.6-Aï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰

```bash
# å¤‰æ›´ã‚’ãƒªãƒãƒ¼ãƒˆ
git checkout HEAD~1 -- app/api/ai/chat/route.ts
git checkout HEAD~1 -- app/api/ai/usage/

# pg_cronã‚¸ãƒ§ãƒ–ã‚’å‰Šé™¤
SELECT cron.unschedule('archive-audit-logs');
SELECT cron.unschedule('purge-archived-logs');
```

#### Phase 14.6-Bï¼ˆãƒ‡ãƒ¼ã‚¿æ•´å‚™ï¼‰

```bash
# å‹å®šç¾©ã‚’ãƒªãƒãƒ¼ãƒˆ
git checkout HEAD~1 -- lib/types/tag-master.ts
git checkout HEAD~1 -- lib/types/status-master.ts

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆå¿…è¦ãªå ´åˆï¼‰
# â€»ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–ã¯ç ´å£Šçš„å¤‰æ›´ã®ãŸã‚æ…é‡ã«
```

#### Phase 14.6-Cã€œG

```bash
# è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªãƒãƒ¼ãƒˆ
git checkout HEAD~1 -- lib/core/business-summary.ts
git checkout HEAD~1 -- lib/core/template-engine.ts
# ...
```

### 12.2 å®Œå…¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

```bash
# Phase 14.6 é–‹å§‹å‰ã®ã‚³ãƒŸãƒƒãƒˆã«æˆ»ã™
git log --oneline  # Phase 14.6 é–‹å§‹å‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª
git revert --no-commit <phase-14.6-commits>
git commit -m "Revert Phase 14.6"
```

---

## å‚è€ƒè³‡æ–™

- `docs/runbooks/PHASE14-AI-RUNBOOK.md` - AIæ©Ÿèƒ½è©³ç´°è¨­è¨ˆ
- `docs/runbooks/PHASE14.5-PERFORMANCE-RUNBOOK.md` - å‰Phase
- `docs/guides/SECURITY.md` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰
- `lib/core/ai-context.ts` - æ—¢å­˜AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŸºç›¤

---

---

## 13. Phase 14.6 æ®‹ã‚¿ã‚¹ã‚¯ä¸€è¦§

### ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ âœ… å®Œäº†

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----------|------|-----------|
| `lib/server/ai-cost.ts` | ã‚³ã‚¹ãƒˆè¨ˆç®— | âœ… |
| `lib/server/audit.ts` | ç›£æŸ»ãƒ­ã‚° | âœ… |
| `lib/types/tag-master.ts` | ã‚¿ã‚°ãƒã‚¹ã‚¿ | âœ… |
| `lib/types/status-master.ts` | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±ä¸€ | âœ… |
| `lib/types/required-fields.ts` | å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | âœ… |
| `lib/core/data-quality.ts` | ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚«ãƒ¼ | âœ… |
| `lib/core/business-summary.ts` | ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒªãƒ¼ | âœ… |
| `lib/core/ai-prompt-templates.ts` | AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | âœ… |
| `lib/types/template-variables.ts` | å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ | âœ… |
| `lib/types/template-categories.ts` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ†ã‚´ãƒª | âœ… |
| `lib/core/template-engine.ts` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ | âœ… |
| `lib/types/customer-journey.ts` | ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ | âœ… |
| `lib/core/action-recommender.ts` | æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨ | âœ… |

### UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ âœ… å®Œäº†

| ãƒ•ã‚¡ã‚¤ãƒ« | ç”¨é€” | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----------|------|-----------|
| `app/_components/admin/DataQualityPanel.tsx` | ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ222è¡Œï¼‰ |
| `app/_components/settings/TemplateManager.tsx` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ560è¡Œï¼‰ |
| `app/_components/reports/JourneyFunnel.tsx` | ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ•ã‚¡ãƒãƒ«å¯è¦–åŒ– | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ405è¡Œï¼‰ |
| `app/_components/prospects/NextActionSuggestion.tsx` | æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ373è¡Œï¼‰ |

### Phase 14.7ï¼ˆAIé–¢é€£ï¼‰ã«ç§»è¡Œ

| ãƒ•ã‚¡ã‚¤ãƒ« | ç”¨é€” | ç§»è¡Œç†ç”± |
|----------|------|----------|
| `app/_components/admin/AIUsagePanel.tsx` | AIä½¿ç”¨é‡ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | AIæ©Ÿèƒ½ã«ç›´æ¥ä¾å­˜ |
| `app/_components/ai/ContextPreview.tsx` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | AIæ©Ÿèƒ½ã«ç›´æ¥ä¾å­˜ |
| `app/_components/settings/AIContextSettings.tsx` | AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š | AIæ©Ÿèƒ½ã«ç›´æ¥ä¾å­˜ |
| `app/_components/ai/TemplateApplicator.tsx` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨ï¼ˆAIé€£æºï¼‰ | AIæ©Ÿèƒ½ã«ç›´æ¥ä¾å­˜ |

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ âœ… å®Œäº†

| ãƒ•ã‚¡ã‚¤ãƒ« | ç”¨é€” | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----------|------|-----------|
| `docs/è¦ç´„/AIåˆ©ç”¨è¦ç´„.md` | AIåˆ©ç”¨è¦ç´„ | âœ… |
| `app/ai-terms/page.tsx` | AIåˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸ | âœ… |
| `docs/guides/AI-USER-GUIDE.md` | AIæ©Ÿèƒ½ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ | âœ… ä½œæˆæ¸ˆã¿ï¼ˆ298è¡Œï¼‰ |

---

**ä½œæˆæ—¥**: 2025-12-02
**æœ€çµ‚æ›´æ–°**: 2025-12-05
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†ï¼ˆpg_cronè¨­å®šå®Œäº†ï¼‰
