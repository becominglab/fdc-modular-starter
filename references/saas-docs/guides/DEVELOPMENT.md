# Founders Direct Cockpit é–‹ç™ºã‚¬ã‚¤ãƒ‰

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** v6.2.0
**æœ€çµ‚æ›´æ–°:** 2025-12-05ï¼ˆPhase 14 å®Œäº†ã€Phase 19 AIå®Ÿè£…äºˆå®šï¼‰

## 0. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦

### 0.1 ç›®çš„

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Founders Direct Cockpitï¼ˆFDCï¼‰ã®é–‹ç™ºãƒ»æ‹¡å¼µã‚’å®‰å…¨ã‹ã¤ä¸€è²«æ€§ã‚’ã‚‚ã£ã¦é€²ã‚ã‚‹ãŸã‚ã®**AIãƒ»äººé–“å…±é€šã®é–‹ç™ºè¦ç¯„**ã§ã™ã€‚Claude Codeã€ChatGPTã€Copilotç­‰ã®AIã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€å¿…ãšæœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿éµå®ˆã—ã¦ãã ã•ã„ã€‚

### 0.2 ç¾åœ¨ã®é–‹ç™ºçŠ¶æ³

**æœ¬ç•ªé‹ç”¨ä¸­ v2.9.2ï¼ˆ2025-12-05ï¼‰**

| ãƒ•ã‚§ãƒ¼ã‚º | çŠ¶æ…‹ | æ¦‚è¦ |
|---------|------|------|
| Phase 7 | âœ… å®Œäº† | èªè¨¼ãƒ»RBACãƒ»ç›£æŸ»ãƒ­ã‚°ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ |
| Phase 8 | âœ… å®Œäº† | Workspaceç®¡ç†ãƒ»æš—å·åŒ– |
| Phase 9 | âœ… å®Œäº† | DBç§»è¡Œï¼ˆNeon â†’ Supabaseï¼‰ |
| Phase 9.5 | âœ… å®Œäº† | åŸºç›¤æ•´å‚™ãƒ»Cookieè¨­å®š |
| Phase 9.7 | âœ… å®Œäº† | æŠ€è¡“è² å‚µã‚¼ãƒ­åŒ– |
| Phase 9.8 | âœ… å®Œäº† | AIåŸºç›¤ãƒ»æ¥½è¦³çš„æ’ä»–åˆ¶å¾¡ |
| Phase 9.9 | âœ… å®Œäº† | ãƒã‚°ä¿®æ­£ãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹ |
| Phase 9.92 | âœ… å®Œäº† | å…¨13ã‚¿ãƒ– React ç§»è¡Œ |
| Phase 9.93-A | âœ… å®Œäº† | ãƒ¬ã‚¬ã‚·ãƒ¼éš”é›¢ãƒ»CIè‡ªå‹•åŒ– |
| Phase 9.93-B | âœ… å®Œäº† | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– |
| Phase 9.94-A | âœ… å®Œäº† | RSCå°å…¥ãƒ»Lighthouseæ”¹å–„ |
| Phase 9.94-B | âœ… å®Œäº† | WCAG 2.1 AAæº–æ‹  |
| Phase 9.94-C | âœ… å®Œäº† | å‹å®šç¾©ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æˆ¦ç•¥ |
| Phase 9.94-D | âœ… å®Œäº† | CI/CDåŸºç›¤ |
| Phase 9.97 | âœ… å®Œäº† | æ¨©é™ã‚·ã‚¹ãƒ†ãƒ çµ±ä¸€ãƒ»ãƒã‚°ä¿®æ­£ |
| Phase 9.98 | âœ… å®Œäº† | Webå…¬é–‹å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ |
| Phase 9.99 | âœ… å®Œäº† | Phase 10é–‹å§‹å‰æœ€çµ‚æ•´å‚™ |
| **Phase 10** | âœ… å®Œäº† | **TODOæ©Ÿèƒ½æ‹¡å¼µï¼ˆ4è±¡é™Ã—ç¿’æ…£åŒ–Ã—ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºï¼‰** |
| **Phase 11** | âœ… å®Œäº† | **Action Map: æˆ¦è¡“ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»ã‚«ãƒ³ãƒãƒ³ãƒ»ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ¢ãƒ¼ãƒ‰** |
| **Phase 12** | âœ… å®Œäº† | **OKR: æˆ¦ç•¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»N:Mé€£æºãƒ»3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Œæˆ** |
| **Phase 13** | âœ… å®Œäº† | **AIæ©Ÿèƒ½ãƒ»CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** |
| **Phase 13.5** | âœ… å®Œäº† | **ãƒ¬ãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã‚¿ãƒ–ãƒ»å¯è¦–æ€§/æ¨©é™ã‚·ã‚¹ãƒ†ãƒ ** |
| **Phase 14.1** | âœ… å®Œäº† | **CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆç®¡ç†è€…è¨­å®šã‚¿ãƒ–é›†ç´„ï¼‰** |
| **Phase 14.2** | âœ… å®Œäº† | **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£æ”¹å–„ï¼ˆåŒæ™‚20äººâ†’100äººå¯¾å¿œï¼‰** |
| **Phase 14.4** | âœ… å®Œäº† | **é‹ç”¨ç›£è¦–å¼·åŒ–ãƒ»æŠ€è¡“çš„è² å‚µè§£æ¶ˆ** |
| **Phase 14.35** | âœ… å®Œäº† | **å·¨å¤§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ï¼ˆ28ãƒ•ã‚¡ã‚¤ãƒ«ã€500è¡Œä»¥ä¸Š0ä»¶ï¼‰** |
| **Phase 14.6-I** | âœ… å®Œäº† | **CSPå¼·åŒ–ï¼ˆNonceãƒ™ãƒ¼ã‚¹ã€unsafe-evalå‰Šé™¤ï¼‰** |
| **Phase 14.6.3-5** | âœ… å®Œäº† | **å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆ61ãƒ•ã‚¡ã‚¤ãƒ«ã€hooks/csv/landingï¼‰** |
| **Phase 14.62** | âœ… å®Œäº† | **å‘½åãƒ»æ¦‚å¿µä¸€è²«æ€§çµ±ä¸€** |
| **Phase 14.6.5** | âœ… å®Œäº† | **AIåˆ©ç”¨è¨­è¨ˆï¼ˆUC/ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ/UI/UXè¨­è¨ˆï¼‰** |
| **Phase 14.7** | âœ… å®Œäº† | **ãƒ†ãƒŠãƒ³ãƒˆåˆ¥AIåŸºç›¤ï¼ˆDBãƒ»å‹å®šç¾©ãƒ»pg_cronè¨­å®šï¼‰** |
| **Phase 15-A/B** | âœ… å®Œäº† | **Google Tokenæš—å·åŒ–ãƒ»ç›£æŸ»ãƒ­ã‚°** |
| **Phase 16** | ğŸ“ è¨­è¨ˆå®Œäº† | **ã‚¿ã‚¹ã‚¯ï¼†ç¿’æ…£ã‚·ã‚¹ãƒ†ãƒ  v4ï¼ˆDBæ­£è¦åŒ–ãƒ»ç¿’æ…£ã‚¾ãƒ¼ãƒ³ï¼‰** |
| **Phase 19** | ğŸ”œ äºˆå®š | **AIæ©Ÿèƒ½å®Ÿè£…ï¼ˆãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ãƒ»UC-01ã€œ04ï¼‰** |

**Phase 14å®Œäº†:** âœ… 2025-12-05ï¼ˆAIåŸºç›¤æ•´å‚™ãƒ»pg_cronè¨­å®šæ¸ˆã¿ï¼‰
**ç¾åœ¨ã®Phase:** Phase 16 è¨­è¨ˆä¸­ / Phase 19 AIå®Ÿè£…äºˆå®š

### 3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPhase 10ã€œ12ã§å®Œæˆï¼‰

```
æˆ¦ç•¥å±¤: OKR (lib/types/okr.ts)
  â”œâ”€ Objectiveï¼ˆå®šæ€§ç›®æ¨™: ä¼šç¤¾/ãƒãƒ¼ãƒ /å€‹äººï¼‰
  â””â”€ KeyResultï¼ˆå®šé‡æˆæœæŒ‡æ¨™ï¼‰N:Mé€£æº

æˆ¦è¡“å±¤: Action Map (lib/types/action-map.ts)
  â”œâ”€ ActionMapï¼ˆä¸Šå¸ä½œæˆã®è¨ˆç”»ï¼‰
  â””â”€ ActionItemï¼ˆéƒ¨ä¸‹å®Ÿè¡Œã‚¿ã‚¹ã‚¯ï¼‰ãƒ„ãƒªãƒ¼æ§‹é€ 

å®Ÿè¡Œå±¤: Task (lib/types/task.ts)
  â”œâ”€ Taskï¼ˆ4è±¡é™: â™ â™¥â™¦â™£ï¼‰
  â”œâ”€ SubTaskï¼ˆã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
  â”œâ”€ ElasticHabitï¼ˆæ¾ç«¹æ¢…ç¿’æ…£ï¼‰
  â””â”€ UmeHabitï¼ˆæ¢…ç¿’æ…£: 5åˆ†å˜ä½ï¼‰
```

### Phase 10ã€œ12 å®Œäº†å†…å®¹

**Phase 10ï¼ˆTaskå®Ÿè¡Œå±¤ï¼‰:**
- 4è±¡é™ãƒœãƒ¼ãƒ‰: ã‚¢ã‚¤ã‚¼ãƒ³ãƒãƒ¯ãƒ¼ãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆâ™ â™¥â™¦â™£ï¼‰
- Elastic Habits: æ¾ç«¹æ¢…ã‚·ã‚¹ãƒ†ãƒ 
- TimeAllocationBar: 5è‰²æ™‚é–“å¯è¦–åŒ–
- Googleé€£æº: Calendar/Tasks API

**Phase 11ï¼ˆActionMapæˆ¦è¡“å±¤ï¼‰:**
- ActionMap: ä¸Šå¸â†’éƒ¨ä¸‹ã®æˆ¦è¡“æŒ‡ç¤º
- ActionItem: ãƒ„ãƒªãƒ¼æ§‹é€ ãƒ»ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰
- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ¢ãƒ¼ãƒ‰: 1ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é›†ä¸­

**Phase 12ï¼ˆOKRæˆ¦ç•¥å±¤ï¼‰:**
- Objective: å®šæ€§ç›®æ¨™ï¼ˆä¼šç¤¾/ãƒãƒ¼ãƒ /å€‹äººï¼‰
- KeyResult: å®šé‡æˆæœæŒ‡æ¨™
- N:Mé€£æº: ActionMapâ†”KR
- é€²æ—ãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—: Taskâ†’ActionItemâ†’ActionMapâ†’KRâ†’Objective

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

### 1.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Next.js | 15.5.6 |
| UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª | React | 19.2.0 |
| è¨€èª | TypeScript | 5.9.3 |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | Supabase PostgreSQL | 17.6 |
| èªè¨¼ | Supabase Auth | - |
| AI | Vercel AI SDK | 5.0.100 |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | Zod | 4.1.12 |
| ãƒ†ã‚¹ãƒˆ | Playwright | 1.56.1 |
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | Vitest | 2.1.0 |
| ã‚¢ã‚¤ã‚³ãƒ³ | Lucide React | 0.554.0 |

### 1.2 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆPhase 12 å®Œäº†æ™‚ç‚¹ï¼‰

```
foundersdirect/
â”œâ”€â”€ app/                              # Next.js 15 App Router
â”‚   â”œâ”€â”€ (app)/                        # èªè¨¼å¾Œãƒšãƒ¼ã‚¸ï¼ˆRoute Groupï¼‰
â”‚   â”‚   â”œâ”€â”€ dashboard/page.tsx        # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ leads/page.tsx            # è¦‹è¾¼ã¿å®¢ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ clients/page.tsx          # é¡§å®¢ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ reports/                  # ãƒ¬ãƒãƒ¼ãƒˆï¼ˆRSCåŒ–æ¸ˆã¿ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # Server Component
â”‚   â”‚   â”‚   â””â”€â”€ _components/          # Client Components
â”‚   â”‚   â”œâ”€â”€ settings/                 # è¨­å®š
â”‚   â”‚   â”œâ”€â”€ admin/                    # ç®¡ç†è€…æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ layout.tsx                # èªè¨¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ _components/                  # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ23ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
â”‚   â”‚   â”œâ”€â”€ todo/                     # TODOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ23ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 10ã€‘
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskBoardTab.tsx      # ã‚¿ãƒ–UIã‚³ãƒ³ãƒ†ãƒŠ
â”‚   â”‚   â”‚   â”œâ”€â”€ TodoBoard.tsx         # 4è±¡é™ãƒœãƒ¼ãƒ‰ï¼ˆD&Då¯¾å¿œï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ TodoCard.tsx          # ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskFormModal.tsx     # ã‚¿ã‚¹ã‚¯ä½œæˆãƒ»ç·¨é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ ElasticHabitsPanel.tsx # æ¾ç«¹æ¢…ç¿’æ…£ãƒ‘ãƒãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ UmeHabitManager.tsx   # æ¢…ç¿’æ…£ãƒã‚¹ã‚¿ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ TimeAllocationBar.tsx # æ™‚é–“æœ‰åŠ¹æ´»ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ action-map/               # ActionMapã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ19ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 11ã€‘
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionMapTab.tsx      # ã‚¿ãƒ–UIã‚³ãƒ³ãƒ†ãƒŠ
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionMapList.tsx     # å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionMapDetail.tsx   # å³è©³ç´°
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionItemTree.tsx    # ãƒ„ãƒªãƒ¼è¡¨ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionItemKanban.tsx  # ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â””â”€â”€ FocusMode.tsx         # é›†ä¸­ãƒ¢ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ okr/                      # OKRã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ13ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 12ã€‘
â”‚   â”‚   â””â”€â”€ org-chart/                # çµ„ç¹”å›³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ12ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 13.5ã€‘
â”‚   â”‚       â”œâ”€â”€ OKRTab.tsx            # ã‚¿ãƒ–UIã‚³ãƒ³ãƒ†ãƒŠ
â”‚   â”‚       â”œâ”€â”€ ObjectiveList.tsx     # å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚       â”œâ”€â”€ ObjectiveDetail.tsx   # å³è©³ç´°+KRãƒªã‚¹ãƒˆ
â”‚   â”‚       â””â”€â”€ ActionMapLinkModal.tsx # KRâ†”AMé€£æº
â”‚   â”œâ”€â”€ api/                          # Route Handlersï¼ˆAPIå±¤ï¼‰
â”‚   â”‚   â””â”€â”€ google/                   # Googleé€£æºAPIã€Phase 10ã€‘
â”‚   â”‚       â””â”€â”€ tasks/                # Tasks API
â”‚   â”œâ”€â”€ login/page.tsx                # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ layout.tsx                    # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ globals.css                   # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSS
â”‚
â”œâ”€â”€ lib/                              # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ core/                         # åœ§ç¸®ãƒ»AIãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ action-map.ts             # ActionMap CRUDãƒ»é€²æ—è¨ˆç®—ã€Phase 11ã€‘
â”‚   â”‚   â””â”€â”€ okr.ts                    # OKR CRUDãƒ»ãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã€Phase 12ã€‘
â”‚   â”œâ”€â”€ hooks/                        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆPhase 14.6.3-5ã§åˆ†å‰²ï¼‰
â”‚   â”‚   â”œâ”€â”€ task/                     # Taské–¢é€£ï¼ˆ9ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 10ã€‘
â”‚   â”‚   â”œâ”€â”€ okr/                      # OKRé–¢é€£ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 12ã€‘
â”‚   â”‚   â”œâ”€â”€ leads/                    # Leadsé–¢é€£ï¼ˆ8ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ templates/                # Templatesé–¢é€£ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ settings/                 # Settingsé–¢é€£ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ action-map/               # ActionMapé–¢é€£ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€Phase 11ã€‘
â”‚   â”‚   â””â”€â”€ useWorkspaceData.ts       # Contextï¼ˆAPIã‚³ãƒ¼ãƒ«å‰Šæ¸›ï¼‰
â”‚   â”œâ”€â”€ google/                       # Google API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€Phase 10ã€‘
â”‚   â”‚   â”œâ”€â”€ calendar-client.ts        # Calendar API
â”‚   â”‚   â””â”€â”€ tasks-client.ts           # Tasks API
â”‚   â”œâ”€â”€ server/                       # ã‚µãƒ¼ãƒãƒ¼å°‚ç”¨
â”‚   â”œâ”€â”€ client/                       # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå°‚ç”¨
â”‚   â”œâ”€â”€ utils/                        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ permissions.ts            # æ¨©é™ãƒã‚§ãƒƒã‚¯é–¢æ•°
â”‚   â””â”€â”€ types/                        # TypeScript å‹å®šç¾©ï¼ˆ22ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚       â”œâ”€â”€ task.ts                   # Task, Suit, SubTaskã€Phase 10ã€‘
â”‚       â”œâ”€â”€ elastic-habit.ts          # ElasticHabit, UmeHabitã€Phase 10ã€‘
â”‚       â”œâ”€â”€ calendar.ts               # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºã€ãƒ­ã‚°/ã‚µãƒãƒªãƒ¼ã€Phase 10ã€‘
â”‚       â”œâ”€â”€ action-map.ts             # ActionMap, ActionItemã€Phase 11ã€‘
â”‚       â””â”€â”€ okr.ts                    # Objective, KeyResultã€Phase 12ã€‘
â”‚
â”œâ”€â”€ tests/                            # ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ e2e/                          # E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰
â”‚   â”œâ”€â”€ unit/                         # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰
â”‚   â”œâ”€â”€ fixtures/                     # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¯ãƒˆãƒª
â”‚   â””â”€â”€ setup.ts                      # Vitest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚
â”œâ”€â”€ .github/workflows/                # CI/CD
â”‚   â””â”€â”€ quality-gate.yml              # GitHub Actions
â”‚
â”œâ”€â”€ migrations/                       # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ scripts/                          # é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ .archive/                         # ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰éš”é›¢ï¼ˆéš ã—ãƒ•ã‚©ãƒ«ãƒ€ï¼‰
â”œâ”€â”€ docs/                             # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚
â”œâ”€â”€ middleware.ts                     # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”œâ”€â”€ next.config.mjs                   # Next.js è¨­å®š
â”œâ”€â”€ tsconfig.json                     # TypeScript è¨­å®š
â”œâ”€â”€ eslint.config.mjs                 # ESLint è¨­å®š
â”œâ”€â”€ vitest.config.ts                  # Vitest è¨­å®š
â”œâ”€â”€ playwright.config.ts              # Playwright è¨­å®š
â””â”€â”€ package.json                      # ä¾å­˜é–¢ä¿‚
```

### 1.3 ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰

**é‡è¦:** `.archive/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã¯**å‚ç…§ç¦æ­¢**ã§ã™ã€‚

```
.archive/
â”œâ”€â”€ phase9-legacy/          # Phase 9 ä»¥å‰ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ phase9-api-legacy/      # Phase 9 ä»¥å‰ã®APIï¼ˆ6,009è¡Œï¼‰
â”œâ”€â”€ phase9-legacy-js/       # æ—§ JS ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆtabs/*.tsï¼‰
â”œâ”€â”€ phase9-legacy-root/     # æ—§ãƒ«ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ phase9-tests-legacy/    # æ—§ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
```

ESLint ã® `no-restricted-imports` ãƒ«ãƒ¼ãƒ«ã§ `.archive/` ã¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚

## 2. é–‹ç™ºãƒ«ãƒ¼ãƒ«

### 2.1 npm ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# é–‹ç™º
npm run dev           # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run build         # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run start         # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•

# å“è³ªãƒã‚§ãƒƒã‚¯
npm run type-check    # TypeScript å‹ãƒã‚§ãƒƒã‚¯
npm run lint          # ESLint

# ãƒ†ã‚¹ãƒˆ
npm test              # E2Eãƒ†ã‚¹ãƒˆ
npm run test:headed   # ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰
npm run test:ui       # Playwright UI
npm run test:visual   # Visual Regression ãƒ†ã‚¹ãƒˆ
npm run test:visual:ci    # Visual Regressionï¼ˆCIç”¨ï¼‰
npm run test:e2e:ci       # E2E ãƒ†ã‚¹ãƒˆï¼ˆCIç”¨ï¼‰
npm run test:unit         # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰
npm run test:unit:watch   # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰

# ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
npm run verify:debt-free  # æŠ€è¡“è² å‚µãƒã‚§ãƒƒã‚¯
npm run check:bundle      # ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
npm run check:legacy      # ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ¤œå‡º
npm run report:tech-debt  # æŠ€è¡“è² å‚µãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
```

### 2.2 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

**ãƒ•ã‚¡ã‚¤ãƒ«å‘½å:**
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: `PascalCase.tsx`ï¼ˆä¾‹: `KPICards.tsx`ï¼‰
- ãƒ•ãƒƒã‚¯: `useCamelCase.ts`ï¼ˆä¾‹: `useDashboardStats.ts`ï¼‰
- API: `route.ts`ï¼ˆNext.js Route Handlersï¼‰

**ã‚¤ãƒ³ãƒãƒ¼ãƒˆé †åº:**
1. React / Next.js
2. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
3. å†…éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ`@/lib/*`ï¼‰
4. å‹å®šç¾©
5. ã‚¹ã‚¿ã‚¤ãƒ«

**ç¦æ­¢äº‹é …:**
- `.archive/` ã‹ã‚‰ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- `any` å‹ã®ä¹±ç”¨ï¼ˆå¯èƒ½ãªé™ã‚Šå…·ä½“çš„ãªå‹ã‚’ä½¿ç”¨ï¼‰
- DOM ç›´æ¥æ“ä½œï¼ˆReact ã® state/props ã‚’ä½¿ç”¨ï¼‰

### 2.3 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

**ViewModel ãƒ‘ã‚¿ãƒ¼ãƒ³:**
```typescript
// lib/hooks/useXxxViewModel.ts
export function useXxxViewModel() {
  const [data, setData] = useState<XxxData | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  // ãƒ‡ãƒ¼ã‚¿å–å¾—
  useEffect(() => { /* ... */ }, []);

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  const handleAction = async () => { /* ... */ };

  return { data, loading, error, handleAction };
}

// app/_components/xxx/XxxComponent.tsx
export function XxxComponent() {
  const { data, loading, error, handleAction } = useXxxViewModel();

  if (loading) return <Loading />;
  if (error) return <Error message={error.message} />;

  return <div>{/* UI */}</div>;
}
```

**é…å»¶ãƒ­ãƒ¼ãƒ‰:**
```typescript
import dynamic from 'next/dynamic';

const HeavyComponent = dynamic(
  () => import('@/app/_components/xxx/HeavyComponent'),
  { loading: () => <Loading /> }
);
```

## 3. API è¨­è¨ˆ

### 3.1 Route Handlers

```
app/api/
â”œâ”€â”€ auth/                 # èªè¨¼
â”‚   â”œâ”€â”€ callback/route.ts # OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”‚   â”œâ”€â”€ session/route.ts  # ã‚»ãƒƒã‚·ãƒ§ãƒ³å–å¾—
â”‚   â””â”€â”€ logout/route.ts   # ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ workspaces/           # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹
â”‚   â””â”€â”€ [workspaceId]/
â”‚       â””â”€â”€ data/route.ts # ãƒ‡ãƒ¼ã‚¿ CRUDï¼ˆåœ§ç¸®ãƒ»æ¥½è¦³çš„æ’ä»–ï¼‰
â”œâ”€â”€ admin/                # ç®¡ç†è€…
â”‚   â”œâ”€â”€ users/route.ts
â”‚   â”œâ”€â”€ sa-workspaces/route.ts
â”‚   â””â”€â”€ system-stats/route.ts
â”œâ”€â”€ ai/                   # AI
â”‚   â””â”€â”€ chat/route.ts     # ãƒ¬ãƒ¼ãƒˆåˆ¶é™ 5req/min
â”œâ”€â”€ leads/route.ts
â”œâ”€â”€ clients/route.ts
â”œâ”€â”€ reports/route.ts
â”œâ”€â”€ analyze/route.ts
â””â”€â”€ audit-logs/route.ts
```

### 3.2 ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

```typescript
// æˆåŠŸ
{ success: true, data: {...}, version?: number }

// ã‚¨ãƒ©ãƒ¼
{ success: false, error: string, code?: string }

// ç«¶åˆï¼ˆæ¥½è¦³çš„æ’ä»–ï¼‰
{ success: false, error: 'Version conflict', code: 'VERSION_CONFLICT', currentVersion: number }
```

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### 4.1 ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«

| ãƒ†ãƒ¼ãƒ–ãƒ« | èª¬æ˜ |
|---------|------|
| users | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| workspaces | ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ |
| workspace_members | ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ— |
| workspace_data | ã‚¢ãƒ—ãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆJSONBã€åœ§ç¸®ï¼‰ |
| workspace_keys | æš—å·éµ |
| sessions | ã‚»ãƒƒã‚·ãƒ§ãƒ³ |
| audit_logs | ç›£æŸ»ãƒ­ã‚° |

### 4.2 æ¥½è¦³çš„æ’ä»–åˆ¶å¾¡

```typescript
// PUT /api/workspaces/[id]/data
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆ: { data, version }
// version ä¸ä¸€è‡´ â†’ 409 å¿œç­”
```

è©³ç´°ã¯ `docs/FDC-GRAND-GUIDE.md` ã‚’å‚ç…§ã€‚

---

**æ—§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå‚è€ƒç”¨ï¼‰:**
<!-- ä»¥ä¸‹ã¯æ—§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å‚è€ƒæƒ…å ±ã§ã™ -->
<!--
â”œâ”€â”€ ğŸ“‚ api/                         # ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰APIï¼ˆVercel Serverless Functionsï¼‰
â”‚   â”œâ”€â”€ _lib/                       # APIå…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”‚   â”œâ”€â”€ db.ts                   # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆSupabase PostgreSQL 17.6ã€pg ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€653è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ auth.ts                 # èªè¨¼ãƒ»èªå¯ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”‚   â”œâ”€â”€ middleware.ts           # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆSupabase Authæ¤œè¨¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ session.ts              # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆCookieèª­ã¿å–ã‚Šã€DBæ¤œè¨¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts                # APIå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ response.ts             # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”‚   â”œâ”€â”€ encryption.ts           # æš—å·åŒ–ãƒ»å¾©å·ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆAES-256-GCMã€Phase 8-2ï¼‰
â”‚   â”‚   â”œâ”€â”€ keyManagement.ts        # æš—å·éµç®¡ç†ï¼ˆPhase 8-2ï¼‰
â”‚   â”‚   â””â”€â”€ rate-limit.ts           # ãƒ¬ãƒ¼ãƒˆåˆ¶é™
â”‚   â”œâ”€â”€ auth/                       # èªè¨¼é–¢é€£API
â”‚   â”‚   â”œâ”€â”€ google.ts               # Google OAuthèªè¨¼
â”‚   â”‚   â”œâ”€â”€ token.ts                # ã‚»ãƒƒã‚·ãƒ§ãƒ³/JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
â”‚   â”‚   â”œâ”€â”€ session.ts              # ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼ãƒ»ç¾åœ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
â”‚   â”‚   â”œâ”€â”€ logout.ts               # ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç„¡åŠ¹åŒ–
â”‚   â”‚   â”œâ”€â”€ me.ts                   # ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
â”‚   â”‚   â””â”€â”€ roles.ts                # ãƒ­ãƒ¼ãƒ«ç®¡ç†ï¼ˆPhase 7-8ï¼‰
â”‚   â”œâ”€â”€ workspaces/                 # Workspaceç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ index.ts                # Workspaceä¸€è¦§ãƒ»ä½œæˆ
â”‚   â”‚   â””â”€â”€ [workspaceId]/
â”‚   â”‚       â”œâ”€â”€ data.ts             # Workspaceãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ»å–å¾—ï¼ˆæš—å·åŒ–å¯¾å¿œï¼‰
â”‚   â”‚       â””â”€â”€ members.ts          # ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†ï¼ˆPhase 7-10ï¼‰
â”‚   â”œâ”€â”€ reports/                    # ãƒ¬ãƒãƒ¼ãƒˆç”ŸæˆAPIï¼ˆPhase 7-11ï¼‰
â”‚   â”‚   â”œâ”€â”€ summary.ts              # ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ¬ãƒãƒ¼ãƒˆã‚µãƒãƒª
â”‚   â”‚   â”œâ”€â”€ cross-workspace.ts      # Cross-Workspaceãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”‚   â””â”€â”€ export.ts               # CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ audit-logs/                 # ç›£æŸ»ãƒ­ã‚°APIï¼ˆPhase 7-10ï¼‰
â”‚   â”‚   â””â”€â”€ index.ts                # ç›£æŸ»ãƒ­ã‚°å–å¾—
â”‚   â””â”€â”€ analyze/                    # ãƒ‡ãƒ¼ã‚¿åˆ†æAPI
â”‚       â””â”€â”€ index.ts                # KPIåˆ†æ
â”‚
â”œâ”€â”€ ğŸ“¦ dist/                        # ãƒ“ãƒ«ãƒ‰æˆæœç‰©ï¼ˆæœ¬ç•ªé…ä¿¡ç”¨ãƒ»ã‚³ãƒŸãƒƒãƒˆå¯¾è±¡ï¼‰
â”‚   â”œâ”€â”€ main.js                     # ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ core/                       # ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ state.js
â”‚   â”‚   â”œâ”€â”€ storage.js
â”‚   â”‚   â”œâ”€â”€ domCache.js
â”‚   â”‚   â”œâ”€â”€ utils.js
â”‚   â”‚   â”œâ”€â”€ apiClient.js
â”‚   â”‚   â”œâ”€â”€ supabase.js
â”‚   â”‚   â””â”€â”€ googleCalendar.js
â”‚   â””â”€â”€ tabs/                       # ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚¿ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ dashboard.js
â”‚       â”œâ”€â”€ mvvOkr.js
â”‚       â”œâ”€â”€ brand.js
â”‚       â”œâ”€â”€ leanCanvas.js
â”‚       â”œâ”€â”€ todo.js
â”‚       â”œâ”€â”€ leads.js
â”‚       â”œâ”€â”€ clients.js
â”‚       â”œâ”€â”€ zoomMeetings.js
â”‚       â”œâ”€â”€ templates.js
â”‚       â”œâ”€â”€ settings.js
â”‚       â””â”€â”€ admin.js
â”‚
â”œâ”€â”€ ğŸ§ª tests/                       # E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰
â”‚   â””â”€â”€ e2e/
â”‚       â”œâ”€â”€ auth.spec.ts            # èªè¨¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
â”‚       â”œâ”€â”€ todo.spec.ts            # TODOç®¡ç†ãƒ†ã‚¹ãƒˆï¼ˆ8ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
â”‚       â”œâ”€â”€ leads.spec.ts           # è¦‹è¾¼ã¿å®¢ç®¡ç†ãƒ†ã‚¹ãƒˆï¼ˆ8ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
â”‚       â”œâ”€â”€ templates.spec.ts       # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†ãƒ†ã‚¹ãƒˆï¼ˆ12ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
â”‚       â”œâ”€â”€ roles.spec.ts           # ãƒ­ãƒ¼ãƒ«æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆPhase 7-10ï¼‰
â”‚       â”œâ”€â”€ workspace.spec.ts       # Workspaceæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆPhase 7-10ï¼‰
â”‚       â””â”€â”€ reports.spec.ts         # ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆPhase 7-11ï¼‰
â”‚
â”œâ”€â”€ ğŸ“‚ migrations/                  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆPhase 8-7ã€Phase 9ï¼‰
â”‚   â”œâ”€â”€ 000-base-schema.sql         # ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ï¼ˆ6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
â”‚   â”œâ”€â”€ 001-rls-policies.sql        # RLSï¼ˆRow Level Securityï¼‰ãƒãƒªã‚·ãƒ¼ï¼ˆ11ãƒãƒªã‚·ãƒ¼ + 7ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰
â”‚   â”œâ”€â”€ 002-workspace-keys.sql      # Workspaceæš—å·éµãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â””â”€â”€ 003-sessions-table.sql      # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆPhase 9è¿½åŠ ï¼‰
â”‚
â”œâ”€â”€ ğŸ“‚ scripts/                     # é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ phase-8-7/                  # Phase 8-7 RLSé©ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚       â”œâ”€â”€ verify-rls-test.sql     # TEST DBæ¤œè¨¼
â”‚       â”œâ”€â”€ verify-rls-prod.sql     # æœ¬ç•ªDBæ¤œè¨¼
â”‚       â”œâ”€â”€ backup-prod-db.sh       # æœ¬ç•ªDBãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
â”‚       â””â”€â”€ rollback-rls.sql        # RLSãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”‚
â””â”€â”€ ğŸ“¦ node_modules/                # npmä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ.gitignoreå¯¾è±¡ï¼‰
    â”œâ”€â”€ typescript/                 # TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
    â”œâ”€â”€ @playwright/test/           # Playwrightãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
    â””â”€â”€ @types/node/                # Node.jså‹å®šç¾©

1.2 é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

âœ… ä¾å­˜æ–¹å‘ï¼šcore â†’ tabs â†’ main ã®ä¸€æ–¹å‘ä¾å­˜

â›” å¾ªç’°å‚ç…§ç¦æ­¢ï¼štabs ã‹ã‚‰ core ã®ã¿å‘¼ã³å‡ºã—å¯èƒ½ã€é€†ã¯ç¦æ­¢

ğŸ“ é–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼šjs/*.ts ã‚’ç·¨é›† â†’ npm run build â†’ dist/*.js ç”Ÿæˆ

ğŸŒ æœ¬ç•ªé…ä¿¡ï¼šindex.html ã¯ dist/main.js ã‚’èª­ã¿è¾¼ã¿ï¼ˆES Modulesï¼‰

ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼šnpm test ã§E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ32ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã€100%æˆåŠŸï¼‰

ğŸš€ æœ¬ç•ªé‹ç”¨ï¼šv2.8.0 ãŒæœ¬ç•ªç’°å¢ƒã§ç¨¼åƒä¸­ï¼ˆ2025-11-18ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼‰

1.3 .gitignore å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ç”Ÿæˆãƒ»é™¤å¤–ï¼‰
node_modules/          # npmä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
playwright-report/     # ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆï¼ˆå®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆï¼‰
test-results/          # ãƒ†ã‚¹ãƒˆçµæœï¼ˆå®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆï¼‰
*.log                  # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆserver.log, test-output.logç­‰ï¼‰
.DS_Store              # macOSä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«

1.4 é–‹ç™ºã®å¤‰é·ï¼ˆv1.4.0 â†’ v2.8.0ï¼‰
é …ç›®	JavaScriptç‰ˆ (v1.4.0)	TypeScriptç‰ˆ (v2.0.0)	æœ¬ç•ªç‰ˆ (v2.8.0)
ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰	js/*.js	js/*.ts	js/*.ts
ãƒ“ãƒ«ãƒ‰	ä¸è¦	npm run build	npm run build
å‹ãƒã‚§ãƒƒã‚¯	ãªã—	npm run type-check	npm run type-check
index.html	./js/main.js	./dist/main.js	./dist/main.js
E2Eãƒ†ã‚¹ãƒˆ	æœªå®Ÿè£…	Playwrightï¼ˆ32ãƒ†ã‚¹ãƒˆã€90æˆåŠŸï¼‰	Playwrightï¼ˆ32ãƒ†ã‚¹ãƒˆã€100%æˆåŠŸï¼‰
APIé€£æº	ãªã—	ãªã—	Google APIã€ã‚µãƒ¼ãƒãƒ¼API
ç®¡ç†æ©Ÿèƒ½	ãªã—	ãªã—	ç®¡ç†è€…ã‚¿ãƒ–ã€Supabaseé€£æº
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹	ãªã—	ãªã—	Supabase PostgreSQL 17.6
èªè¨¼æ–¹å¼	ãªã—	ãªã—	Supabase Auth + ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
æœ¬ç•ªç’°å¢ƒ	æœªãƒ‡ãƒ—ãƒ­ã‚¤	æœªãƒ‡ãƒ—ãƒ­ã‚¤	âœ… ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼ˆPhase 9å®Œäº†ï¼‰
2. ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†ã¨æ‰¿èªãƒ•ãƒ­ãƒ¼

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ã™ã¹ã¦ã®ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†å¾Œã«
Claude Codeï¼ˆå®Ÿè£…ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰ ãŒã€Œå®Œäº†å ±å‘Šã€ã‚’è¡Œã„ã€
ChatGPTï¼ˆçµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰ ãŒã€Œæ‰¿èªã€ã¾ãŸã¯ã€Œä¿®æ­£æŒ‡ç¤ºã€ã‚’è¿”ä¿¡ã™ã‚‹ã€‚

2.1 å®Œäº†å ±å‘Šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆClaude Codeç”¨ï¼‰

å„ãƒ•ã‚§ãƒ¼ã‚ºçµ‚äº†æ™‚ã¯ã€å¿…ãšä»¥ä¸‹ã®å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š

âœ… Phase X å®Œäº†å ±å‘Š

**å®Ÿæ–½å†…å®¹æ¦‚è¦:**
- ã€‡ã€‡æ©Ÿèƒ½ã®å®Ÿè£…
- â–³â–³ã®ä¿®æ­£

**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§:**
- `js/tabs/xxx.ts` - ä¸»è¦æ©Ÿèƒ½è¿½åŠ 
- `js/core/yyy.ts` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£æ‹¡å¼µ

**ä¿®æ­£ç†ç”±:**
- ã€‡ã€‡ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚
- â–³â–³ã®æ•´åˆæ€§ã‚’ä¿ã¤ãŸã‚

**æ¤œè¨¼çµæœ:**
- âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯: `npm run type-check` æˆåŠŸ
- âœ… ãƒ“ãƒ«ãƒ‰: `npm run build` æˆåŠŸ
- âš ï¸ E2Eãƒ†ã‚¹ãƒˆ: æœªå®Ÿæ–½ï¼ˆæ‰‹å‹•ç¢ºèªæ¨å¥¨ï¼‰

**å½±éŸ¿ç¯„å›²:**
- æ—¢å­˜ãƒ‡ãƒ¼ã‚¿æ§‹é€ : å¤‰æ›´ãªã— / æ‹¡å¼µã®ã¿
- æ—¢å­˜æ©Ÿèƒ½: å½±éŸ¿ãªã— / ä¸€éƒ¨ä¿®æ­£

**æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºææ¡ˆï¼ˆä»»æ„ï¼‰:**
- Phase X+1: ã€‡ã€‡ã®å®Ÿè£…ã‚’æ¨å¥¨

2.2 æ‰¿èªãƒ•ãƒ­ãƒ¼ï¼ˆæ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹ï¼‰

Claude Code â†’ å®Œäº†å ±å‘Šã‚’æå‡º

ChatGPT â†’ æ‰¿èª or ä¿®æ­£æŒ‡ç¤ºã‚’è¿”ä¿¡

äººé–“é–‹ç™ºè€… â†’ æœ€çµ‚ç¢ºèªãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ

Claude Code â†’ ï¼ˆæ‰¿èªå¾Œï¼‰æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºé–‹å§‹

é‡è¦: ChatGPTã®æ‰¿èªãŒå‡ºã‚‹ã¾ã§ã€æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã«ã¯é€²ã¾ãªã„ã“ã¨ã€‚
æ‰¿èªã•ã‚Œã‚‹ã¾ã§å†å®Ÿè¡Œãƒ»ä¿®æ­£ã‚’ç¹°ã‚Šè¿”ã™ã€‚

3. åŸºæœ¬ãƒ«ãƒ¼ãƒ« & æ€§èƒ½è¦ä»¶ï¼ˆå…¨AIãƒ»é–‹ç™ºè€…å…±é€šï¼‰

3.1 åŸºæœ¬ãƒ«ãƒ¼ãƒ«

1. æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¾ãšã«æ”¹ä¿®ãƒ»è¿½åŠ å®Ÿè£…ã—ãªã„ã“ã¨ã€‚
2. TypeScriptå¿…é ˆãƒ«ãƒ¼ãƒ«ï¼ˆâ­ é‡è¦ï¼‰
   - æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã¯å¿…ãš .ts æ‹¡å¼µå­ã§ä½œæˆ
   - .js ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã¯ç¦æ­¢ï¼ˆdist/ ã¯è‡ªå‹•ç”Ÿæˆãªã®ã§é™¤ãï¼‰
   - js/*.ts ã‚’ç·¨é›† â†’ npm run build â†’ dist/*.js ç”Ÿæˆ
   - å‹å®šç¾©ã‚’å¿…ãšè¨˜è¿°ï¼ˆany å‹ã®ä¹±ç”¨ç¦æ­¢ï¼‰
   - ãƒ“ãƒ«ãƒ‰å‰ã« npm run type-check ã§å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèª
3. localStorage ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢ï¼ˆcore/storage.ts ã® loadData / saveData / resetData ã‚’ä½¿ç”¨ï¼‰
4. ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²ãƒ«ãƒ¼ãƒ«
   - initXxxTab() â†’ åˆæœŸåŒ–ã®ã¿
   - renderXxxTab() â†’ æç”»ãƒ»æ›´æ–°ã®ã¿
5. window å…¬é–‹é–¢æ•°ãƒ«ãƒ¼ãƒ«ï¼ˆâ­ é‡è¦ï¼‰
   - HTMLã‹ã‚‰ç›´æ¥å‘¼ã°ã‚Œã‚‹é–¢æ•°ï¼ˆonclick, onchangeç­‰ï¼‰ã®ã¿ window ã«å…¬é–‹
   - ã‚¿ãƒ–å†…éƒ¨ã§å®Œçµã™ã‚‹é–¢æ•°ã€ä»–ã® window å…¬é–‹é–¢æ•°ã‹ã‚‰å‘¼ã°ã‚Œã‚‹è£œåŠ©é–¢æ•°ã¯ window ã«å‡ºã•ãªã„
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«æ±šæŸ“ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹
6. å¤‰æ›´ç¯„å›²ã‚’æœ€å°é™ã«ã™ã‚‹ï¼ˆä»–ã‚¿ãƒ–ãƒ»ä»–coreãƒ•ã‚¡ã‚¤ãƒ«ã¸å½±éŸ¿ã‚’ä¸ãˆãªã„ï¼‰
7. å…¨è‡ªå‹•ãƒªãƒ©ã‚¤ãƒˆç¦æ­¢ï¼ˆAIã«ã‚ˆã‚‹å…¨ãƒ•ã‚¡ã‚¤ãƒ«å†æ•´å½¢ãƒ»ä¸€æ‹¬ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã¯ç¦æ­¢ï¼‰
8. å¤‰æ›´ç®‡æ‰€ã®å ±å‘Šç¾©å‹™ï¼ˆä¿®æ­£ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ»é–¢æ•°ãƒ»ç›®çš„ã‚’ç®‡æ¡æ›¸ãã§æ®‹ã™ï¼‰
9. äº’æ›æ€§ã‚’å£Šã™å¤‰æ›´ã¯ç¦æ­¢ï¼ˆappDataæ§‹é€ ãƒ»æ—¢å­˜keyåã‚’å‹æ‰‹ã«å¤‰æ›´ã—ãªã„ï¼‰

3.2 React å®Ÿè£…ãƒ«ãƒ¼ãƒ«ï¼ˆPhase 9.92 ä»¥é™ã®å¿…é ˆã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«ï¼‰

Phase 9.92 ä»¥é™ã® UI å®Ÿè£…ã¯ã€ã™ã¹ã¦æ¬¡ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã†ã“ã¨ã€‚ã“ã‚Œã‚’å¤–ã‚ŒãŸå®Ÿè£…ã¯ç¦æ­¢ã€‚å ´å½“ãŸã‚Šçš„ãª React åŒ–ã‚’é˜²ããŸã‚ã®æœ€ä½æ¡ä»¶ã¨ã™ã‚‹ã€‚

#### 3.2.1 ç”»é¢ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢ãƒ«ãƒ¼ãƒ«

1. **1ç”»é¢ = 1 ViewModel Hook**
   - ä¾‹ï¼šãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ â†’ `useDashboardViewModel()`
   - ä¾‹ï¼šè¦‹è¾¼ã¿å®¢ç®¡ç† â†’ `useLeadsViewModel()`
   - ä¾‹ï¼šæ—¢å­˜å®¢ç®¡ç† â†’ `useClientsViewModel()`

2. **ViewModel Hook ã®è²¬å‹™**
   - API å‘¼ã³å‡ºã—ï¼ˆfetch / Supabase ã‚¯ã‚¨ãƒªï¼‰
   - ãƒ‡ãƒ¼ã‚¿æ•´å½¢ãƒ»é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©å®šç¾©ï¼ˆãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã«ä½•ã‚’ã™ã‚‹ã‹ï¼‰
   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®ç®¡ç†

3. **ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è²¬å‹™**
   - ViewModel ã‹ã‚‰æ¸¡ã•ã‚ŒãŸå€¤ã‚’è¡¨ç¤ºã™ã‚‹ã ã‘
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ props çµŒç”±ã§å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™
   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ fetch ã—ãªã„

#### 3.2.2 å‹ã¨ API å¥‘ç´„ã®ãƒ«ãƒ¼ãƒ«

1. **API å…¥å‡ºåŠ›å‹ã¯ 1 ãƒ•ã‚¡ã‚¤ãƒ«ã«é›†ç´„**
   - ä¾‹ï¼š`lib/types/api.ts` ã¾ãŸã¯ `lib/types/index.ts`
   - ã“ã“ã« `DashboardStats`, `Lead`, `Client`, `TodoItem` ãªã©ã‚’å®šç¾©ã™ã‚‹ã€‚

2. **Route Handlerï¼ˆ`app/api/**/route.ts`ï¼‰ã¨ ViewModel ã¯ã€å¿…ãšåŒã˜å‹å®šç¾©ã‚’ import ã—ã¦ä½¿ã†ã€‚**
   - ç‰‡æ–¹ã ã‘ `any` ã‚„ç‹¬è‡ªã®å‹ã‚’æ›¸ã‹ãªã„ã€‚

3. **Zod ç­‰ã®ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ã†å ´åˆã‚‚ã€å‹å®šç¾©ã¨åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã™ã‚‹ã€‚**

4. **`any`, `unknown` ã‚’æš«å®šçš„ã«ä½¿ã£ãŸå ´åˆã¯ã€å¿…ãš `// TODO: å‹ã‚’å…·ä½“åŒ–ï¼ˆPhase x.xï¼‰` ã‚’ä»˜ã‘ã¦æŠ€è¡“è² å‚µã¨ã—ã¦æ˜ç¤ºã™ã‚‹ã€‚**

#### 3.2.3 DOM ç›´æ¥æ“ä½œãƒ»å‰¯ä½œç”¨ã®ãƒ«ãƒ¼ãƒ«

1. **DOM ç›´æ¥æ“ä½œç¦æ­¢**
   - `document.getElementById`, `querySelector`, `innerHTML`, `classList.add/remove` ã¯åŸå‰‡ç¦æ­¢ã€‚
   - ã©ã†ã—ã¦ã‚‚å¿…è¦ãªå ´åˆï¼ˆã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ï¼‰ã¯ã€å°‚ç”¨ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚Šã€`useEffect` å†…ã§å±€æ‰€çš„ã«é–‰ã˜ã‚‹ã€‚

2. **`window`, `document` ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯**
   - `typeof window !== 'undefined'` ã‚¬ãƒ¼ãƒ‰ä»˜ãã€
   - ã‹ã¤ `useEffect` å†…ã«é™å®šã™ã‚‹ã€‚

3. **å‰¯ä½œç”¨ï¼ˆãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ»ãƒ­ã‚°å‡ºåŠ›ãªã©ï¼‰ã¯ã™ã¹ã¦ ViewModel Hook å†…ã«é›†ç´„ã—ã€UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã§ã¯å‰¯ä½œç”¨ã‚’æŒãŸãªã„ã€‚**

#### 3.2.4 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã¨çŠ¶æ…‹ç®¡ç†ã®ãƒ«ãƒ¼ãƒ«

1. **çŠ¶æ…‹ã¯åŸå‰‡ `useState` / `useReducer` ã§ ViewModel å†…ã«ä¿æŒã—ã€props ã§ä¸‹ã«æµã™ã€‚**

2. **ç”»é¢ã‚’ã¾ãŸãã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ãŒå¿…è¦ãªå ´åˆã®ã¿ã€Context ã‚„ Zustand ç­‰ã®åˆ©ç”¨ã‚’æ¤œè¨ã™ã‚‹ã€‚**
   - ãã‚Œã§ã‚‚ã€Œã©ã“ã‹ã‚‰ã§ã‚‚æ›¸ãæ›ãˆå¯èƒ½ã€ãªè¨­è¨ˆã«ã¯ã—ãªã„ã€‚

3. **ã€Œä¸€æ™‚çš„ã« main.js ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã™ãƒ–ãƒªãƒƒã‚¸ã€ã¯ Phase 9.92 ã§ã¯ä½¿ç”¨ç¦æ­¢ã€‚**
   - ã™ã¹ã¦ React ã® state/props ã«å®Œå…¨ç§»è¡Œã™ã‚‹ãƒ•ã‚§ãƒ¼ã‚ºã¨ã™ã‚‹ã€‚

#### 3.2.5 å®Ÿè£…å˜ä½ã¨å®Œäº†æ¡ä»¶ã®ãƒ«ãƒ¼ãƒ«

1. **1ã‚¿ãƒ–ãšã¤å®Œå…¨ç§»è¡Œ**
   - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒ 100% å®Œäº†ã™ã‚‹ã¾ã§ã¯ã€ä»–ã‚¿ãƒ–ã«ç€æ‰‹ã—ãªã„ã€‚

2. **å„ã‚¿ãƒ–ã¯æ¬¡ã® 3 ãƒ¬ã‚¤ãƒ¤ãŒæƒã£ã¦ Definition of Done (DOD) ã¨ã¿ãªã™ã€‚**
   - ViewModel Hookï¼ˆãƒ­ã‚¸ãƒƒã‚¯ï¼‰
   - Presentational Componentsï¼ˆUIï¼‰
   - API + å‹å®šç¾©ï¼ˆå¥‘ç´„ï¼‰

3. **å„ã‚¿ãƒ–å®Œäº†æ™‚ã«å¿…ãš**
   - `npm run type-check`
   - `npm run build`
   - å¯¾è±¡ã‚¿ãƒ–ã«é–¢ä¿‚ã™ã‚‹ Playwright ãƒ†ã‚¹ãƒˆ
   ã‚’é€šã™ã“ã¨ï¼ˆãƒ†ã‚¹ãƒˆæœªæ•´å‚™ãªã‚‰ TODO ã¨ã—ã¦æ˜è¨˜ã™ã‚‹ï¼‰ã€‚

#### 3.2.6 window å…¬é–‹é–¢æ•°ã®å»ƒæ­¢æ–¹é‡

**æ—§å®Ÿè£…**: HTML ã® `onclick` å±æ€§ã‹ã‚‰ç›´æ¥ `window.functionName()` ã‚’å‘¼ã³å‡ºã—ã¦ã„ãŸã€‚

**React å®Ÿè£…**: ã™ã¹ã¦ React ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã«ç½®ãæ›ãˆã‚‹ã€‚

**ç§»è¡Œæ‰‹é †**:
1. æ—§å®Ÿè£…ã§ `window.xxx = function() { ... }` ã¨ã—ã¦ã„ãŸé–¢æ•°ã‚’ç‰¹å®š
2. ViewModel Hook å†…ã§åŒç­‰ã®é–¢æ•°ã‚’å®šç¾©
3. UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ `onClick={handleXxx}` ã¨ã—ã¦ props ã§æ¸¡ã™
4. HTML ã® `onclick="window.xxx()"` ã‚’å‰Šé™¤

#### 3.2.7 core å±¤ã®å†åˆ©ç”¨æ–¹æ³•

**`lib/core/*` ã®æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯**ï¼ˆ`apiClient.ts`, `auth.ts` ãªã©ï¼‰ã¯ã€React Hooks ã§ãƒ©ãƒƒãƒ—ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚

**ä¾‹**:
```typescript
// lib/core/apiClient.tsï¼ˆæ—¢å­˜ï¼‰
export async function fetchWorkspaceData(workspaceId: string) { ... }

// lib/hooks/useDashboardViewModel.tsï¼ˆæ–°è¦ï¼‰
import { fetchWorkspaceData } from '@/lib/core/apiClient';

export function useDashboardViewModel() {
  const [data, setData] = useState(null);

  useEffect(() => {
    async function load() {
      const result = await fetchWorkspaceData('xxx');
      setData(result);
    }
    load();
  }, []);

  return { data };
}
```

#### 3.2.8 Supabase Auth / APIClient ã® React çµ±åˆæ–¹æ³•

**Supabase Auth**:
- `lib/client/supabase.ts` ã§åˆæœŸåŒ–ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨
- ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã¯ `app/(app)/layout.tsx` ã§ç®¡ç†ã—ã€Context çµŒç”±ã§å„ãƒšãƒ¼ã‚¸ã«æ¸¡ã™

**APIClient**:
- `lib/core/apiClient.ts` ã®æ—¢å­˜é–¢æ•°ã‚’ ViewModel Hook å†…ã§å‘¼ã³å‡ºã™
- Cookieï¼ˆ`fdc_session`ï¼‰ã¯è‡ªå‹•çš„ã«é€ä¿¡ã•ã‚Œã‚‹ï¼ˆ`credentials: 'include'`ï¼‰

#### 3.2.9 React Component ã®å®Œäº†å®šç¾©ï¼ˆDODï¼‰

å„ã‚¿ãƒ–ã® React åŒ–ãŒã€Œå®Œäº†ã€ã¨ã¿ãªã•ã‚Œã‚‹æ¡ä»¶ï¼š

**æ©Ÿèƒ½è¦ä»¶**:
- æ—§ UI ã®æ©Ÿèƒ½ãŒã™ã¹ã¦ React ã§å‹•ä½œã™ã‚‹
- DOM ç›´æ¥æ“ä½œã‚’ä¸€åˆ‡ä½¿ç”¨ã—ã¦ã„ãªã„
- æ—§ `js/tabs/*.ts` ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒæ¼ã‚Œãªãç§»ç®¡ã•ã‚Œã¦ã„ã‚‹

**éæ©Ÿèƒ½è¦ä»¶**:
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼ˆãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰
- æ—§ UI ã¨ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ¯”è¼ƒã§ 95% ä»¥ä¸Šä¸€è‡´ã™ã‚‹

**æŠ€è¡“è¦ä»¶**:
- `npm run type-check` ãŒé€šã‚‹
- `npm run build` ãŒæˆåŠŸã™ã‚‹
- å¯¾è±¡ã‚¿ãƒ–ã«é–¢ä¿‚ã™ã‚‹ Playwright ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- ã™ã¹ã¦ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒ ViewModel Hook ã«é›†ç´„ã•ã‚Œã¦ã„ã‚‹
- API å‹å®šç¾©ãŒ `lib/types/*.ts` ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹

3.3 æ€§èƒ½è¦ä»¶ï¼ˆPerformance Requirementsï¼‰â€” Phase 9 ä»¥é™ã®å¿…é ˆåŸºæº–

ã™ã¹ã¦ã®æ©Ÿèƒ½è¿½åŠ ã¯ä»¥ä¸‹ã® NFR ã‚’æº€ãŸã—ã€è¨ˆæ¸¬çµæœã¨å½±éŸ¿ç¯„å›²ã‚’ãƒ¬ãƒãƒ¼ãƒˆã—ã¦ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ‰¿èªã€ã‚’å—ã‘ã‚‹ã“ã¨ã€‚è©³ç´°ãªæ¸¬å®šæ‰‹é †ãƒ»è¿½åŠ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ `DOCS/Performance-Specification-v1.0.md` ã‚’å‚ç…§ã™ã‚‹ã€‚

- UI æ“ä½œï¼ˆP95 = å…¨è¨ˆæ¸¬ã® 95% ãŒåŸºæº–æœªæº€ï¼‰
  - åˆå›ãƒ­ã‚°ã‚¤ãƒ³ â†’ Dashboard è¡¨ç¤º: P95 < 2.0 ç§’
  - ã‚¿ãƒ–åˆ‡æ›¿ï¼ˆDashboard / Leads / Clients / Reportsï¼‰: P95 < 1.2 ç§’
  - Workspace åˆ‡æ›¿: P95 < 2.2 ç§’ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Š / 4G å›ç·šã§ã‚‚æº€ãŸã™ï¼‰
- API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ SLA
  - èª­ã¿å–ã‚Šç³»ï¼ˆGETï¼‰: P95 < 350ms
  - ä½œæˆãƒ»æ›´æ–°ç³»ï¼ˆPOST/PUTï¼‰: P95 < 450ms
  - é‡å‡¦ç†ï¼ˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼‰: P95 < 800msï¼ˆæœ€å¤§ 1.2sï¼‰
- æš—å·åŒ–ï¼å¾©å·æ™‚é–“ï¼ˆAES-256-GCM æƒ³å®šï¼‰
  - Workspace ãƒ‡ãƒ¼ã‚¿å¾©å·: P95 < 280ms
  - ä¿å­˜æ™‚æš—å·åŒ–: P95 < 180ms
- JSON / LocalStorage / ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - workspace_data JSON ã‚µã‚¤ã‚ºä¸Šé™: æœ€å¤§ 250KB / workspace
  - ä¸å¿…è¦ãªå†ä¿å­˜ãƒ»deep copy ã¯ç¦æ­¢ï¼ˆå¿…è¦æœ€å°é™ï¼‰
- UI ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  - DOM å†æç”»ã«ã‚ˆã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ è½ã¡: 0
  - Leads 300ä»¶ç­‰ã®é•·ã„ãƒªã‚¹ãƒˆã§ã‚‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« 60fps ã‚’ç¶­æŒ
  - state æ›´æ–°ã¯ 1 ã‚¿ãƒ– 1 å›ã«é›†ç´„ã—ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è² è·
  - Prisma Query ã® N+1: 0
  - RLS ä»˜ãã‚¯ã‚¨ãƒª: 1 ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚ãŸã‚Šæœ€å¤§ 3 ã‚¯ã‚¨ãƒª
  - DB æ¥ç¶šæ•°ï¼ˆVercel Postgresï¼‰: P95 < 15 connections
- ã‚¨ãƒ©ãƒ¼ç‡ï¼ˆSLOï¼‰
  - å…¨ä½“ã‚¨ãƒ©ãƒ¼ç‡ï¼ˆ5xxï¼‰: 0.10% ä»¥ä¸‹
  - èªè¨¼ãƒ»æš—å·åŒ–ç³»ï¼ˆ401/403/422ï¼‰: 0.20% ä»¥ä¸‹
- ãƒ‡ã‚°ãƒ¬é˜²æ­¢
  - ã™ã¹ã¦ã®æ–°æ©Ÿèƒ½ã¯ä¸Šè¨˜åŸºæº–ã¸ã®å½±éŸ¿ã‚’æ¸¬å®šã—ã€æ¯”è¼ƒãƒ»å½±éŸ¿ç¯„å›²ãƒ¬ãƒãƒ¼ãƒˆã‚’æ·»ä»˜ã™ã‚‹ã“ã¨ï¼ˆPerformance Specification v1.0 ã®æå‡ºç‰©ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã†ï¼‰

4. Claude / ChatGPT ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé‹ç”¨ãƒ«ãƒ¼ãƒ«ï¼ˆæ­£å¼æ­£æœ¬ï¼‰
4.1 å¿…é ˆèª­è¾¼

ã™ã¹ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆClaude Code / ChatGPT / Copilot ç­‰ï¼‰ã¯ã€ä½œæ¥­é–‹å§‹å‰ã« HOW-TO-DEVELOP.md ã‚’èª­ã¿è¾¼ã¿ã€ã“ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã†ã“ã¨ã€‚

4.2 å½¹å‰²åˆ†æ‹…ï¼ˆåˆ†æ•£ä¸¦åˆ—ï¼‰

å¤§ãã‚ã®é–‹ç™ºã‚¿ã‚¹ã‚¯ã§ã¯ã€å¿…è¦ã«å¿œã˜ã¦ä»¥ä¸‹ã®ã€Œã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ã‚’èµ·å‹•ã—ã¦ã‚ˆã„ï¼š

ğŸ§© è¨­è¨ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: è¦ä»¶æ•´ç†ãƒ»å‹å®šç¾©ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

ğŸ”§ å®Ÿè£…ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: è©²å½“ã‚¿ãƒ– / core ã®å®Ÿè£…

ğŸ§ª ãƒ†ã‚¹ãƒˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: Playwright / æ‰‹å‹•ç¢ºèªè¦³ç‚¹ã®ç”Ÿæˆ

ğŸ“˜ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: HOW-TO-USE.md / CHANGELOG.md æ›´æ–°æ¡ˆã®ä½œæˆ

ãŸã ã—å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æ‹…å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ˜ç¤ºã—ã€ä»–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ‹…å½“é ˜åŸŸã‚’å‹æ‰‹ã«æ›¸ãæ›ãˆãªã„ã“ã¨ã€‚

4.3 å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµ±ä¸€ï¼ˆDODæº–å‚™ï¼‰

å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ä½œæ¥­å®Œäº†æ™‚ã«ã€å¿…ãšæ¬¡ã®å½¢å¼ã§ãƒ¬ãƒãƒ¼ãƒˆã‚’å‡ºåŠ›ã™ã‚‹ï¼š

å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

ä¿®æ­£å†…å®¹

ç†ç”±

å½±éŸ¿ç¯„å›²

æ¨å¥¨ãƒ“ãƒ«ãƒ‰ï¼ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰ï¼ˆä¾‹: npm run build, npm testï¼‰

4.4 çµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å­˜åœ¨

åˆ†æ•£å‡ºåŠ›ã¯ã€å¿…ãšã€Œçµ±åˆå½¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆã¾ãŸã¯äººé–“ï¼‰ã€ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ¶ˆãƒ»æœ€çµ‚åˆ¤æ–­ã‚’è¡Œã†ã€‚
çµ±åˆå‰ã« main ãƒ–ãƒ©ãƒ³ãƒã¸ç›´æ¥åæ˜ ã—ãªã„ã€‚

5. æ©Ÿèƒ½è¿½åŠ ãƒ«ãƒ¼ãƒ«ï¼ˆæ–°è¦æ©Ÿèƒ½ã®è¨­è¨ˆãƒ»å®Ÿè£…ãƒ»çµ±åˆï¼‰

â€»ã“ã®ç« ã¯ã€Phase 9 ä»¥é™ã®æ©Ÿèƒ½è¿½åŠ ãƒ»æœ€é©åŒ–ã‚’å®‰å…¨ã«è¡Œã†ãŸã‚ã®è¿½åŠ ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã™ã€‚
åŸºæœ¬ãƒ«ãƒ¼ãƒ«ï¼ˆç¬¬3ç« ï¼‰ã¨åˆã‚ã›ã¦å¿…ãšéµå®ˆã—ã¦ãã ã•ã„ã€‚

5.1 äº‹å‰æ•´ç†ï¼ˆWhy / Who / Whatï¼‰

æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å‰ã«ã€å¿…ãšä»¥ä¸‹ã‚’çŸ­ãæ•´ç†ã™ã‚‹ã“ã¨ï¼ˆAIã«æ›¸ã‹ã›ã¦ã‚‚ã‚ˆã„ï¼‰ï¼š

ç›®çš„ï¼ˆWhyï¼‰

ã©ã®èª²é¡Œã‚’è§£æ±ºã—ãŸã„ã®ã‹

ã©ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆKPIãƒ»UXãƒ»é‹ç”¨è² è·ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç­‰ï¼‰ã‚’æ”¹å–„ã—ãŸã„ã®ã‹

å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆWhoï¼‰

SA / OWNER / ADMIN / MEMBER ã®ã©ã“å‘ã‘ã‹ï¼ˆPhase 9.97 ã§æ¨©é™ä½“ç³»ã‚’ç°¡ç´ åŒ–ï¼‰

ã©ã®ã‚¿ãƒ–ï¼ˆleads / clients / dashboard / â€¦ï¼‰ã§ä½¿ã†ã®ã‹

æ©Ÿèƒ½ã®ç¯„å›²ï¼ˆWhat / Non-Goalï¼‰

æ©Ÿèƒ½ã®ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆå¿…é ˆè¦ä»¶ï¼‰

ä»Šå›ã¯æ‰±ã‚ãªã„ã‚‚ã®ï¼ˆNon-Goalï¼‰

ã“ã®æ•´ç†ã¯ã€PRã‚„ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†å ±å‘Šã®ã€Œå®Ÿæ–½å†…å®¹æ¦‚è¦ã€ã«ãã®ã¾ã¾æµç”¨ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã§æ›¸ãã€‚

5.2 å¤‰æ›´å¯¾è±¡ã®å¢ƒç•Œã‚’æ˜ç¤ºã™ã‚‹

æ©Ÿèƒ½è¿½åŠ æ™‚ã¯ã€ã©ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§æ‰‹ã‚’ä¼¸ã°ã™ã‹ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã€‚

ä¾‹ï¼š

UIã®ã¿ï¼ˆjs/tabs/leads.ts å†…ã§å®Œçµï¼‰

core + UIï¼ˆjs/core/state.ts ã«å‹è¿½åŠ  ï¼‹ js/tabs/reports.ts ã§åˆ©ç”¨ï¼‰

API + core + UIï¼ˆapi/reports/detail.ts æ–°è¨­ï¼‹apiClient.tsï¼‹reports.tsï¼‰

å¢ƒç•Œã‚’æ›–æ˜§ã«ã—ãŸã¾ã¾åºƒç¯„å›²ã‚’è§¦ã‚‰ãªã„ã€‚
ã€Œè§¦ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã€ã‚’å…ˆã«åˆ—æŒ™ã—ã¦ã‹ã‚‰å®Ÿè£…ã«å…¥ã‚‹ã€‚

5.3 ãƒ‡ãƒ¼ã‚¿æ§‹é€ å¤‰æ›´ãƒ«ãƒ¼ãƒ«ï¼ˆappData / DB / APIï¼‰

å¾Œæ–¹äº’æ›æ€§ã‚’å„ªå…ˆã™ã‚‹

æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‰Šé™¤ãƒ»åå‰å¤‰æ›´ã¯åŸå‰‡ç¦æ­¢

æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ã‚’åŸºæœ¬ã¨ã—ã€å¿…è¦ãªã‚‰ã€Œversionã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§æ‰±ã†

appData å¤‰æ›´ã®æŒ‡é‡

js/core/state.ts ã§å‹å®šç¾©ã‚’æ›´æ–°ã—ã€åˆæœŸå€¤ã‚’å¿…ãšå®šç¾©

loadData / saveData ã¨ã®æ•´åˆæ€§ã‚’ç¢ºèª

æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€

ä¸€åº¦ã€Œèª­ã¿è¾¼ã¿æ™‚ã«è£œå®Œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã€ã§å¸å

ãã®å¾Œã€å¿…è¦ã§ã‚ã‚Œã°å°‚ç”¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆä¾‹ï¼šPhase 9-1ï¼‰ã§æ•´ç†

DBã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã®æŒ‡é‡

å¤‰æ›´ã¯å¿…ãš migrations/*.sql çµŒç”±ã§è¡Œã†

ALTER TABLE ã‚ˆã‚Šã‚‚ã€Œåˆ—è¿½åŠ ï¼‹æ—§åˆ—ã¯å°†æ¥å‰Šé™¤å€™è£œã¨ã—ã¦æ‰±ã†ã€æ–¹é‡ã‚’å„ªå…ˆ

RLSãƒãƒªã‚·ãƒ¼ã¸ã®å½±éŸ¿ã‚’æœ€åˆã«ç¢ºèªï¼ˆSELECT/INSERT/UPDATE ã®æ¨©é™ãŒå´©ã‚Œãªã„ã‹ï¼‰

API ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã®æŒ‡é‡

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‰Šé™¤ã¯æ¥µåŠ›é¿ã‘ã‚‹

è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä¸ãˆã€æ—§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã‚‚ç ´ç¶»ã—ãªã„ã‚ˆã†ã«ã™ã‚‹

äº’æ›æ€§ã‚’å£Šã™å¤‰æ›´ãŒå¿…è¦ãªå ´åˆã¯ã€/v1/â€¦ /v2/â€¦ ã®ã‚ˆã†ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ†å²ã‚’æ¤œè¨

5.4 API è¿½åŠ ãƒ«ãƒ¼ãƒ«

æ–°è¦ API ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€å°‘ãªãã¨ã‚‚ä»¥ä¸‹ã‚’æº€ãŸã™ï¼š

å½¹å‰²ã®æ˜ç¢ºåŒ–

ãƒªã‚½ãƒ¼ã‚¹å˜ä½ã§ URL ã‚’è¨­è¨ˆï¼ˆä¾‹ï¼š/api/reports/detail, /api/leads/bulk-updateï¼‰

ä¸€ã¤ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã€Œèª­ã¿å–ã‚Šã€ã¨ã€Œæ›¸ãè¾¼ã¿ã€ã‚’æ··åœ¨ã•ã›ãªã„

çµ±ä¸€ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

æˆåŠŸï¼š{ success: true, data: ... }

å¤±æ•—ï¼š{ success: false, error: { code, message } } ã®ã‚ˆã†ãªå½¢ã«çµ±ä¸€ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨

èªè¨¼ãƒ»èªå¯ã®ä¸€è²«æ€§

api/_lib/auth.ts ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’çµŒç”±ã—ã¦ã€å¿…ãš

Google OAuth ã®æ¤œè¨¼

Workspace ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—

ãƒ­ãƒ¼ãƒ«ï¼ˆOWNER / ADMIN / MEMBERï¼‰ï¼ˆPhase 9.97 æ›´æ–°ï¼‰
ã‚’ãƒã‚§ãƒƒã‚¯

ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§æ¨©é™ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ï¼ˆSERVICE_ROLE_KEY ã§DBã‚¢ã‚¯ã‚»ã‚¹ï¼‰

ãƒ†ã‚¹ãƒˆ

å¯èƒ½ãªé™ã‚Šã€å¯¾è±¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å©ã E2E ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ 1 ã¤ä»¥ä¸Šè¿½åŠ 

å°‘ãªãã¨ã‚‚ Happy Path + ä»£è¡¨çš„ãªã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ï¼ˆèªå¯ã‚¨ãƒ©ãƒ¼ãªã©ï¼‰ã‚’å«ã‚ã‚‹

5.5 UI / UX å¤‰æ›´ãƒ«ãƒ¼ãƒ«

æ—¢å­˜ã®UXã‚’å£Šã•ãªã„

æ—¢å­˜ã‚¿ãƒ–ã®ä¸»è¦ãªãƒœã‚¿ãƒ³é…ç½®ãƒ»ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã¯ç¶­æŒã™ã‚‹

å¤§ããªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´ãŒå¿…è¦ãªå ´åˆã¯ã€Phase å˜ä½ã§åˆ‡ã‚Šå‡ºã™ï¼ˆã€Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ·æ–°ãƒ•ã‚§ãƒ¼ã‚ºã€ãªã©ï¼‰

ã‚¿ãƒ–é–“ã®ä¸€è²«æ€§

ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆãƒ»æ¤œç´¢ãªã©ã® UI ã¯ã€å¯èƒ½ãªé™ã‚Šæ—¢å­˜ã‚¿ãƒ–ã¨æƒãˆã‚‹

ãƒœã‚¿ãƒ³ãƒ©ãƒ™ãƒ«ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã‚‚å¯èƒ½ãªç¯„å›²ã§å†åˆ©ç”¨ã™ã‚‹

ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ„è­˜

ä¸å¿…è¦ãªå†æç”»ã‚’é¿ã‘ã‚‹ï¼ˆrenderXxxTab() ã®å‘¼ã³å‡ºã—é »åº¦ã‚’æŠ‘ãˆã‚‹ï¼‰

å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºãŒå¿…è¦ãªå ´åˆã¯ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚° or ãƒãƒ£ãƒ³ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚’æ¤œè¨ã™ã‚‹

5.6 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ç›£è¦–

ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¾€å¾©å›æ•°ã‚’å¢—ã‚„ã•ãªã„ã‚ˆã†ã«ã€APIã®ç²’åº¦ã‚’èª¿æ•´

å¤§é‡ãƒ«ãƒ¼ãƒ—ãƒ»é »ç¹ãª DOM æ“ä½œã¯ domCache.ts ã‚’çµŒç”±ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ€å¤§é™æ´»ç”¨

å°†æ¥ã® Phase 9 ã§ã®æœ€é©åŒ–å¯¾è±¡ã«ãªã‚Šå¾—ã‚‹ç®‡æ‰€ã«ã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã§ãƒ¡ãƒ¢ã‚’æ®‹ã™ï¼ˆä¾‹ï¼š// TODO: Phase9: optimize renderingï¼‰

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

æš—å·åŒ–ï¼å¾©å·å‡¦ç†ã¯å¿…ãš api/_lib/encryption.ts çµŒç”±ã§è¡Œã†

Workspace ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ auth.ts ã«ã¦ãƒã‚§ãƒƒã‚¯ï¼ˆSERVICE_ROLE_KEY ã§DBã‚¢ã‚¯ã‚»ã‚¹ï¼‰

ãƒ­ã‚°ã«æ©Ÿå¯†æƒ…å ±ï¼ˆç”Ÿãƒ‡ãƒ¼ã‚¿ã‚„éµæƒ…å ±ï¼‰ã‚’æ›¸ãå‡ºã•ãªã„

ç›£è¦–ãƒ»ãƒ­ã‚°

é‡è¦ãªæ“ä½œï¼ˆå¤§é‡æ›´æ–°ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»æ¨©é™å¤‰æ›´ç­‰ï¼‰ã¯ audit_logs ã«è¨˜éŒ²ã•ã‚Œã‚‹ã‚ˆã† API å´ã§å®Ÿè£…

ã‚¨ãƒ©ãƒ¼æ™‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å†…éƒ¨ãƒ­ã‚°å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†é›¢ã™ã‚‹

5.7 ãƒ†ã‚¹ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

æ©Ÿèƒ½è¿½åŠ ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã‚’ã€Œã‚»ãƒƒãƒˆã€ã§è¡Œã†ï¼š

ãƒ†ã‚¹ãƒˆ

npm run type-check

npm run build

é–¢é€£ã™ã‚‹ tests/e2e/*.spec.ts ã®æ›´æ–° or è¿½åŠ 

æ‰‹å‹•ç¢ºèªãŒå¿…è¦ãªå ´åˆã¯ã€è¦³ç‚¹ã‚’ç®‡æ¡æ›¸ãã§æ®‹ã™

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ï¼šHOW-TO-USE.md

é–‹ç™ºå‘ã‘ï¼šHOW-TO-DEVELOP.mdï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã€FDC-GRAND-GUIDE.mdï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰ã€SERVER-API-SPEC.md

å¤‰æ›´å±¥æ­´ï¼šCHANGELOG.md

ãƒ•ã‚§ãƒ¼ã‚ºã¨ã®ç´ä»˜ã‘

æ©Ÿèƒ½è¿½åŠ ãŒã©ã® Phase / Step ã«å±ã™ã‚‹ã®ã‹ã‚’æ˜ç¤ºã™ã‚‹ï¼ˆä¾‹ï¼šPhase 9-2: leads ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰

6. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆæƒ…å ±ï¼ˆ2025-11-14 æœ€æ–°ç‰ˆï¼‰
6.1 ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹è¦æ¨¡
åŒºåˆ†	ãƒ•ã‚¡ã‚¤ãƒ«æ•°	ç·è¡Œæ•°
TypeScript (Source)	20ãƒ•ã‚¡ã‚¤ãƒ«	ç´„8,200è¡Œ
â”œâ”€ core/	8ãƒ•ã‚¡ã‚¤ãƒ«	ç´„2,200è¡Œ
â”œâ”€ tabs/	12ãƒ•ã‚¡ã‚¤ãƒ«	ç´„5,600è¡Œ
â””â”€ main.ts	1ãƒ•ã‚¡ã‚¤ãƒ«	ç´„400è¡Œ
API (Serverless)	18ãƒ•ã‚¡ã‚¤ãƒ«	ç´„3,800è¡Œ
â”œâ”€ _lib/	6ãƒ•ã‚¡ã‚¤ãƒ«	ç´„1,200è¡Œ
â”œâ”€ auth/	3ãƒ•ã‚¡ã‚¤ãƒ«	ç´„600è¡Œ
â”œâ”€ workspaces/	3ãƒ•ã‚¡ã‚¤ãƒ«	ç´„800è¡Œ
â”œâ”€ reports/	3ãƒ•ã‚¡ã‚¤ãƒ«	ç´„900è¡Œ
â””â”€ ãã®ä»–	3ãƒ•ã‚¡ã‚¤ãƒ«	ç´„300è¡Œ
JavaScript (Build)	20ãƒ•ã‚¡ã‚¤ãƒ«	ç´„8,200è¡Œ
HTML	1ãƒ•ã‚¡ã‚¤ãƒ«	ç´„3,200è¡Œ
E2Eãƒ†ã‚¹ãƒˆ	7ãƒ•ã‚¡ã‚¤ãƒ«	ç´„1,200è¡Œ
ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³	3ãƒ•ã‚¡ã‚¤ãƒ«	ç´„500è¡Œ
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ	21ãƒ•ã‚¡ã‚¤ãƒ«	ç´„12,000è¡Œ
ç·è¨ˆ	70ãƒ•ã‚¡ã‚¤ãƒ«	ç´„37,100è¡Œ
6.2 ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥è©³ç´°ï¼ˆTypeScript Sourceï¼‰

coreå±¤ï¼ˆå…±é€šåŸºç›¤ï¼‰

state.ts: ç´„750è¡Œ - å‹å®šç¾©ãƒ»è¨­å®šãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆRBACã€CurrentUserç­‰å«ã‚€ï¼‰

storage.ts: ç´„250è¡Œ - localStorageç®¡ç†

apiClient.ts: ç´„300è¡Œ - ã‚µãƒ¼ãƒãƒ¼APIé€šä¿¡

supabase.ts: ç´„100è¡Œ - Supabase Auth èªè¨¼ï¼ˆPhase 9-7ï¼‰

googleCalendar.ts: ç´„200è¡Œ - Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº

auth.ts: ç´„430è¡Œ - RBACæ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆPhase 7-8ï¼‰

utils.ts: ç´„100è¡Œ - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

domCache.ts: ç´„60è¡Œ - DOMè¦ç´ ã‚­ãƒ£ãƒƒã‚·ãƒ¥

tabså±¤ï¼ˆæ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰

leads.ts: ç´„1,100è¡Œ - è¦‹è¾¼ã¿å®¢ç®¡ç†ï¼ˆæœ€å¤§ï¼‰

templates.ts: ç´„650è¡Œ - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†

leanCanvas.ts: ç´„580è¡Œ - ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ³ãƒã‚¹

dashboard.ts: ç´„520è¡Œ - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆKPIãƒ»ãƒ•ã‚¡ãƒãƒ«ï¼‰

clients.ts: ç´„460è¡Œ - æ—¢å­˜å®¢ç®¡ç†

reports.ts: ç´„450è¡Œ - ãƒ¬ãƒãƒ¼ãƒˆï¼ˆPhase 7-11ï¼‰

brand.ts: ç´„450è¡Œ - ãƒ–ãƒ©ãƒ³ãƒ‰æŒ‡é‡

mvvOkr.ts: ç´„400è¡Œ - MVVãƒ»OKR

zoomMeetings.ts: ç´„360è¡Œ - Zoomé¢è«‡

todo.ts: ç´„340è¡Œ - TODOç®¡ç†

admin.ts: ç´„280è¡Œ - ç®¡ç†è€…æ©Ÿèƒ½ï¼ˆPhase 7-10ï¼‰

settings.ts: ç´„160è¡Œ - è¨­å®š

APIå±¤ï¼ˆServerless Functionsï¼‰

api/_lib/db.ts: ç´„650è¡Œ - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆVercel Postgresï¼‰

api/_lib/encryption.ts: ç´„300è¡Œ - æš—å·åŒ–ãƒ»å¾©å·ï¼ˆPhase 8-2ï¼‰

api/_lib/auth.ts: ç´„200è¡Œ - èªè¨¼ãƒ»èªå¯ãƒ˜ãƒ«ãƒ‘ãƒ¼

api/workspaces/[workspaceId]/data.ts: ç´„250è¡Œ - Workspaceãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ»å–å¾—

api/reports/summary.ts: ç´„350è¡Œ - ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆPhase 7-11ï¼‰

ãã®ä»–å„ç¨®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

6.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹
é …ç›®	å€¤
ãƒãƒ¼ã‚¸ãƒ§ãƒ³	2.3.1 âœ… æœ¬ç•ªé‹ç”¨ä¸­
Gitã‚³ãƒŸãƒƒãƒˆæ•°	150ä»¶ä»¥ä¸Š
ãƒ–ãƒ©ãƒ³ãƒ	main
TypeScriptåŒ–å®Œäº†ç‡	100% âœ…
E2Eãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸	7ã‚¿ãƒ–ï¼ˆ50+ãƒ†ã‚¹ãƒˆã€100%æˆåŠŸï¼‰
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ç‡	100% âœ…
æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤	âœ… å®Œäº†ï¼ˆ2025-11-12ï¼‰
é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º	Phase 7 å®Œäº† / Phase 8 é€²è¡Œä¸­ï¼ˆ8-7ã¾ã§å®Œäº†ï¼‰
APIçµ±åˆ	Vercel Postgresï¼ˆNeonï¼‰ã€Google APIã€ã‚µãƒ¼ãƒãƒ¼API
ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£	ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã€æš—å·åŒ–ã€ç›£æŸ»ãƒ­ã‚°
èªè¨¼ãƒ»èªå¯	Google OAuthã€RBACï¼ˆ3ãƒ­ãƒ¼ãƒ«ãƒ¢ãƒ‡ãƒ«ï¼‰
6.4 ä¸»è¦æ©Ÿèƒ½æ•°

ã‚¿ãƒ–æ•°: 12ã‚¿ãƒ–ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€MVVã€ãƒ–ãƒ©ãƒ³ãƒ‰ã€ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ³ãƒã‚¹ã€TODOã€è¦‹è¾¼ã¿å®¢ã€æ—¢å­˜å®¢ã€Zoomã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ¬ãƒãƒ¼ãƒˆã€è¨­å®šã€ç®¡ç†è€…ï¼‰

ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãƒãƒ£ãƒãƒ«: 7ãƒãƒ£ãƒãƒ«ï¼ˆãƒªã‚¢ãƒ«ã€HPã€ãƒ¡ãƒ«ãƒã‚¬ã€ãƒ¡ãƒƒã‚»ãƒ³ã‚¸ãƒ£ãƒ¼ã€Xã€é›»è©±ãƒ»SMSã€WEBã‚¢ãƒ—ãƒªï¼‰

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¨®åˆ¥: 6ç¨®é¡ï¼ˆæœªæ¥è§¦ã€åå¿œã‚ã‚Šã€å•†è«‡ä¸­ã€æˆç´„ã€æ—¢å­˜å…ˆã€å¥‘ç´„æº€äº†ã€å¤±æ³¨ï¼‰

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—: 4ç¨®é¡ï¼ˆmessengerã€emailã€proposalã€closingï¼‰

åˆæœŸABCãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: 6ä»¶ï¼ˆmessenger 3ä»¶ã€email 3ä»¶ï¼‰

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«: ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ«ï¼ˆSA / USERï¼‰+ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«ï¼ˆOWNER / ADMIN / MEMBERï¼‰ï¼ˆPhase 9.97 æ›´æ–°ï¼‰

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«: 6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆusers, workspaces, workspace_members, workspace_data, audit_logs, workspace_keysï¼‰

å¤–éƒ¨é€£æº: Google OAuthã€Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€Vercel Postgresã€ç‹¬è‡ªã‚µãƒ¼ãƒãƒ¼API

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆSERVICE_ROLE_KEYï¼‰ã€AES-256-GCMæš—å·åŒ–ã€ç›£æŸ»ãƒ­ã‚°ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™

7. Phase 7 & 8: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»èªè¨¼ãƒ»æš—å·åŒ–ï¼ˆå®Ÿè£…å®Œäº† / é€²è¡Œä¸­ï¼‰
7.1 Phase 7: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»èªè¨¼ãƒ»ãƒ­ãƒ¼ãƒ«é‹ç”¨ï¼ˆâœ… å®Œäº†ï¼‰

ç›®çš„: ãƒ­ãƒ¼ã‚«ãƒ«ä¸­å¿ƒã‹ã‚‰ã€ã‚µãƒ¼ãƒãƒ¼èªè¨¼ãƒ»ãƒ­ãƒ¼ãƒ«ç®¡ç†ã‚’è»¸ã«å†æ§‹æˆã€‚

å®Œäº†å†…å®¹:

âœ… Phase 7-1ã€œ7-7: ãƒ­ãƒ¼ãƒ«è¨­è¨ˆãƒ»æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹æ•´å‚™ã€Google OAuthé€£æº

âœ… Phase 7-8: ãƒ­ãƒ¼ãƒ«çµ±åˆAPIæ‹¡å¼µï¼ˆ/api/auth/rolesï¼‰

âœ… Phase 7-9: CurrentUserç®¡ç†çµ±åˆï¼ˆjs/core/state.tsï¼‰

âœ… Phase 7-10: Workspaceæ¨©é™ãƒ»ç›£æŸ»ãƒ­ã‚°ãƒ»RBACå®Ÿè£…

Workspace ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†APIï¼ˆ/api/workspaces/[workspaceId]/membersï¼‰

ç›£æŸ»ãƒ­ã‚°APIï¼ˆ/api/audit-logsï¼‰- DBæ°¸ç¶šåŒ–å¯¾å¿œ

ãƒ­ãƒ¼ãƒ«ç®¡ç†APIï¼ˆ/api/auth/rolesï¼‰

RBACæ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆjs/core/auth.tsï¼‰- canEditLead, canViewClientç­‰

ç®¡ç†UIã®å®Ÿè£…ï¼ˆjs/tabs/admin.tsï¼‰

E2Eãƒ†ã‚¹ãƒˆï¼ˆtests/e2e/roles.spec.ts, workspace.spec.tsï¼‰

âœ… Phase 7-11: ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ / çµ„ç¹”æ¨ªæ–­ãƒ“ãƒ¥ãƒ¼æ§‹ç¯‰

ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ¬ãƒãƒ¼ãƒˆAPIï¼ˆ/api/reports/summary.tsï¼‰

SA/OWNER: å…¨ä½“KPI / ãƒ•ã‚¡ãƒãƒ« / ãƒãƒ£ãƒãƒ«çµ±è¨ˆ / ãƒãƒ¼ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ / Cross-WS ãƒ¬ãƒãƒ¼ãƒˆ

ADMIN: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹KPI / ãƒ•ã‚¡ãƒãƒ« / ãƒãƒ¼ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

MEMBER: å€‹äººãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ / è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ãƒ»ãƒªãƒ¼ãƒ‰ãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

ï¼ˆPhase 9.97 ã§ EXEC/MANAGER â†’ OWNER/ADMIN ã«çµ±åˆï¼‰

Cross-Workspaceé›†è¨ˆAPIï¼ˆ/api/reports/cross-workspace.tsï¼‰

ãƒ¬ãƒãƒ¼ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆAPIï¼ˆ/api/reports/export.tsï¼‰- CSVå½¢å¼

ãƒ¬ãƒãƒ¼ãƒˆã‚¿ãƒ–UIï¼ˆjs/tabs/reports.tsï¼‰

âœ… Phase 7-12: ãƒ­ãƒ¼ãƒ«åŒæœŸå®‰å®šåŒ–ãƒ»Phase8ãƒ–ãƒªãƒƒã‚¸

æˆæœ:

èªè¨¼ã¨ãƒ­ãƒ¼ãƒ«åˆ¶å¾¡ã‚’å®Œå…¨ã«ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¸ç§»è¡Œ

ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ‡æ›¿ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒå…¨ã¦Google OAuth + DBç®¡ç†ä¸‹ã«çµ±ä¸€

localStorage ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±¤ã¨ã—ã¦ã®ã¿æ©Ÿèƒ½

7.2 Phase 8: Workspaceç®¡ç†ãƒ»æš—å·åŒ–ãƒ»å®Œå…¨ã‚µãƒ¼ãƒãƒ¼åŒ–ï¼ˆğŸš§ é€²è¡Œä¸­ï¼‰

ç›®çš„: å®Œå…¨ã‚µãƒ¼ãƒãƒ¼åŒ–ãƒ»æš—å·åŒ–ä¿å­˜ãƒ»è‡ªå‹•åŒæœŸã‚’å®Ÿç¾ã€‚

å®Œäº†å†…å®¹:

âœ… Phase 8-1: Workspaceæš—å·åŒ–æ–¹é‡ã®è¨­è¨ˆï¼ˆãƒã‚¹ã‚¿ãƒ¼éµ + Workspaceéµã®äºŒå±¤æš—å·åŒ–ï¼‰

âœ… Phase 8-2: æš—å·éµç®¡ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè£…ï¼ˆapi/_lib/encryption.ts, api/_lib/keyManagement.tsï¼‰

âœ… Phase 8-3: ã‚µãƒ¼ãƒãƒ¼ä¿å­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«æ•´å‚™ï¼ˆAppData â†’ æš—å·åŒ–JSONï¼‰

âœ… Phase 8-4: ãƒ•ãƒ­ãƒ³ãƒˆå¾©å·å‡¦ç†ãƒ»åŒæœŸWorkerçµ±åˆ

âœ… Phase 8-5: Workspaceåˆ‡æ›¿ãƒ»ãƒ‡ãƒ¼ã‚¿åŒæœŸå®‰å®šåŒ–

âœ… Phase 8-6: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼ãƒ»æš—å·åŒ–çµ±åˆãƒ¬ãƒ“ãƒ¥ãƒ¼

âœ… Phase 8-7: RLSãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨ & TEST_DBåˆ‡æ›¿

migrations/000-base-schema.sql: ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒï¼ˆ6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

migrations/001-rls-policies.sql: RLSãƒãƒªã‚·ãƒ¼ï¼ˆ11ãƒãƒªã‚·ãƒ¼ã€7ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰

migrations/002-workspace-keys.sql: Workspaceéµãƒ†ãƒ¼ãƒ–ãƒ«

TEST DBæ¤œè¨¼å®Œäº†ï¼ˆscripts/phase-8-7/verify-rls-test.sqlï¼‰

ğŸš§ Phase 8-8: E2E Testingï¼ˆGoogle Login â†’ Workspaceä½œæˆ â†’ RLSæ“ä½œç¢ºèªï¼‰- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ğŸ”œ Phase 8-9: Production Cutover & Monitoringï¼ˆæœ¬ç•ªåˆ‡æ›¿ï¼‹ç›£è¦–ï¼‰

ğŸ”œ Phase 9-1: Legacy Data Migrationï¼ˆæ—§ãƒ»å¹³æ–‡ãƒ‡ãƒ¼ã‚¿ã®ç§»è¡Œï¼‰

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒï¼ˆPhase 8-7ï¼‰:

users (id, google_sub, email, name, picture, system_role, account_type, created_at, updated_at)  -- Phase 9.97: global_role â†’ system_role
workspaces (id, name, created_by, created_at)
workspace_members (id, workspace_id, user_id, role, joined_at)
workspace_data (workspace_id, data, updated_at) -- JSONBæš—å·åŒ–ãƒ‡ãƒ¼ã‚¿
audit_logs (id, workspace_id, user_id, action, resource_type, resource_id, details, created_at)
workspace_keys (workspace_id, encrypted_key, created_at, updated_at) -- æš—å·åŒ–ã•ã‚ŒãŸWorkspaceéµ


RLSãƒãƒªã‚·ãƒ¼:

users: è‡ªåˆ†ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã¿é–²è¦§ãƒ»æ›´æ–°å¯èƒ½ï¼ˆusers_select_self, users_update_selfï¼‰

workspaces: æ‰€å±Workspaceã®ã¿é–²è¦§å¯èƒ½ï¼ˆworkspaces_select_memberï¼‰ã€OWNER/ADMINã®ã¿æ›´æ–°å¯èƒ½ï¼ˆworkspaces_update_adminï¼‰ï¼ˆPhase 9.97 æ›´æ–°ï¼‰

workspace_members: æ‰€å±Workspaceã®ãƒ¡ãƒ³ãƒãƒ¼é–²è¦§å¯èƒ½ï¼ˆworkspace_members_selectï¼‰ã€adminä»¥ä¸ŠãŒç®¡ç†å¯èƒ½ï¼ˆworkspace_members_modify_adminï¼‰

workspace_data: æ‰€å±Workspaceã®ãƒ‡ãƒ¼ã‚¿ã®ã¿é–²è¦§ãƒ»å¤‰æ›´å¯èƒ½ï¼ˆworkspace_data_select_member, workspace_data_modify_memberï¼‰

audit_logs: adminä»¥ä¸ŠãŒé–²è¦§å¯èƒ½ï¼ˆaudit_logs_select_adminï¼‰ã€å…¨ãƒ¡ãƒ³ãƒãƒ¼ãŒä½œæˆå¯èƒ½ï¼ˆaudit_logs_insert_memberï¼‰

æš—å·åŒ–ä»•æ§˜:

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ : AES-256-GCM

äºŒå±¤æš—å·åŒ–: ãƒã‚¹ã‚¿ãƒ¼éµï¼ˆç’°å¢ƒå¤‰æ•° MASTER_ENCRYPTION_KEYï¼‰+ Workspaceéµï¼ˆworkspace_keys ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

ãƒ‡ãƒ¼ã‚¿å½¢å¼: {"version":"1", "iv":"...", "authTag":"...", "ciphertext":"..."}

---

## 8. Phase 9-12: ç¶™ç¶šçš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¶­æŒé–‹ç™ºã‚¬ã‚¤ãƒ‰ï¼ˆâš ï¸ é‡è¦ï¼‰

### 8.1 Phase 9-12 ã®åŸºæœ¬æ–¹é‡

Phase 9ã€œ12 ã§ã¯ã€**ç¶™ç¶šçš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã¨å®¹é‡åˆ¶é™ã‚’å®ˆã‚ŠãªãŒã‚‰é †æ¬¡æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã**ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¡ç”¨ã™ã‚‹ã€‚

**ã€Œå¾Œã§ä¸€æ‹¬æœ€é©åŒ–ã€ã¯è¡Œã‚ãªã„ã€‚å„Phaseå®Œäº†æ™‚ã«å¿…ãšãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã¨å®¹é‡åˆ¶é™ã‚’æº€ãŸã™ã€‚æº€ãŸã•ãªã„å ´åˆã¯æ¬¡Phaseã¸é€²ã¾ãªã„ã€‚**

### 8.2 Phase 9-12 å®Ÿæ–½é †åº

```
Phase 9: æš—å·åŒ–åŸºç›¤ + æ—¢å­˜APIå®Œæˆ + åŸºæº–ç¢ºå®š
  â†“ å®Œäº†ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå¿…é ˆï¼‰
Phase 10: TODOæ‹¡å¼µï¼ˆ4è±¡é™ + ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ + æ¾ç«¹æ¢…ç¿’æ…£ï¼‰
  â†“ å®Œäº†ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå¿…é ˆï¼‰
Phase 11: Action Mapï¼ˆæˆ¦è¡“ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰
  â†“ å®Œäº†ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå¿…é ˆï¼‰
Phase 12: OKRï¼ˆæˆ¦ç•¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰
  â†“
âœ… æœ¬ç•ªé‹ç”¨é–‹å§‹å¯èƒ½
```

### 8.3 å„Phaseå…±é€šã®é–‹ç™ºãƒ«ãƒ¼ãƒ«

#### 8.3.1 å®¹é‡åˆ¶é™ãƒãƒªã‚·ãƒ¼ï¼ˆworkspace_data JSONï¼‰

| Phase | ç›®æ¨™å®¹é‡ | ãƒãƒ¼ãƒ‰ä¸Šé™ | å¯¾ç­– |
|-------|---------|-----------|------|
| **Phase 9** | 150KB | 250KB | åŸºæº–ç¢ºå®š |
| **Phase 10** | 225KBä»¥ä¸‹ï¼ˆ90%ï¼‰ | 250KB | åˆæœŸå€¤30åˆ†æ¨å¥¨ã€subTasksæœ€å¤§10ä»¶ |
| **Phase 11** | 200KBä»¥ä¸‹æ¨å¥¨ï¼ˆ80%ï¼‰ | 250KB | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ©Ÿèƒ½å®Ÿè£…ï¼ˆå¿…é ˆï¼‰ |
| **Phase 12** | 200KBä»¥ä¸‹æ¨å¥¨ï¼ˆ80%ï¼‰ | 250KB | OKRã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒãƒªã‚·ãƒ¼å®Ÿè£… |

**ãƒ‡ãƒ¼ã‚¿æœ€é©åŒ–ï¼ˆä¸Šé™å€¤ãƒ»Phase 10ã€œ12 å…±é€šï¼‰**:

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ä¸Šé™å€¤ | è¶…éæ™‚ã®å‹•ä½œ |
|-----------|-----------|--------|-------------|
| Task | subTasks | 10ä»¶ | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |
| Task | title | 200æ–‡å­— | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |
| ActionItem | linkedTaskIds | 20ä»¶ | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |
| ActionItem | description | 500æ–‡å­— | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |
| KeyResult | linkedActionMapIds | 10ä»¶ | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |
| Objective | description | 1000æ–‡å­— | UIè­¦å‘Šã€ä¿å­˜ä¸å¯ |

#### 8.3.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ï¼ˆPhase 9ã§ç¢ºå®šã€10ã€œ12ã§ç¶­æŒï¼‰

| åŒºåˆ† | æŒ‡æ¨™ | åŸºæº– |
|------|------|------|
| UI æ“ä½œ | åˆå› Dashboard è¡¨ç¤º | P95 < 2.0 ç§’ |
| UI æ“ä½œ | ã‚¿ãƒ–åˆ‡æ›¿ï¼ˆDash/Leads/Clients/Reportsï¼‰ | P95 < 1.2 ç§’ |
| UI æ“ä½œ | Workspace åˆ‡æ›¿ | P95 < 2.8 ç§’ |
| API | GET ç³» | P95 < 350ms |
| API | POST/PUT ç³» | P95 < 450ms |
| API | é‡å‡¦ç†ï¼ˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼‰ | P95 < 800msï¼ˆæœ€å¤§ 1.2sï¼‰ |
| æš—å·åŒ– | Workspace å¾©å· | P95 < 280ms |
| æš—å·åŒ– | ä¿å­˜æ™‚æš—å·åŒ– | P95 < 180ms |
| ãƒ‡ãƒ¼ã‚¿ | workspace_data JSON | 1 Workspace 250KB ä»¥ä¸‹ |

**Phase 10 è¿½åŠ åŸºæº–**:
- 4è±¡é™ãƒœãƒ¼ãƒ‰è¡¨ç¤º: P95 < 1.2ç§’
- TODOä½œæˆãƒ»ç·¨é›†: P95 < 800ms
- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº: P95 < 1.5ç§’

**Phase 11 è¿½åŠ åŸºæº–**:
- Action Map ã‚¿ãƒ–è¡¨ç¤º: P95 < 1.5ç§’
- Action Item é€²æ—è¨ˆç®—: P95 < 100ms
- Phase 10åŸºæº–ã‚‚ç¶­æŒ

**Phase 12 è¿½åŠ åŸºæº–**:
- OKRã‚¿ãƒ–è¡¨ç¤º: P95 < 1.5ç§’
- ãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—å‡¦ç†: P95 < 100ms
- Phase 9ã€œ11åŸºæº–ã‚‚ã™ã¹ã¦ç¶­æŒ

#### 8.3.3 å„Phaseå®Œäº†æ™‚ã®å¿…é ˆãƒã‚§ãƒƒã‚¯

**Phase X-0: å®¹é‡è¨ˆæ¸¬ï¼ˆã™ã¹ã¦ã®Phaseã§å®Ÿæ–½ï¼‰**
```bash
# ç¾åœ¨ã® workspace_data ã‚µã‚¤ã‚ºã‚’è¨ˆæ¸¬
- å…¨Workspaceã®å®¹é‡ã‚’ç¢ºèª
- æœ€å¤§ãƒ»å¹³å‡ãƒ»P95ã‚µã‚¤ã‚ºã‚’ç®—å‡º
- Phase X è¿½åŠ å®¹é‡ã®è¦‹ç©ã‚‚ã‚Š
- 250KBåˆ¶é™ã«å¯¾ã™ã‚‹ä½™è£•ã‚’ç¢ºèª
- è¶…éãƒªã‚¹ã‚¯ãŒã‚ã‚‹å ´åˆã¯è»½é‡åŒ–ç­–ã‚’æ¤œè¨
```

**Phase X-6/7: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆã™ã¹ã¦ã®Phaseã§å®Ÿæ–½ï¼‰**
```bash
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã‚’æº€ãŸã™ã¾ã§æ”¹å–„
- æ–°æ©Ÿèƒ½ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬
- æ—¢å­˜æ©Ÿèƒ½ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å›å¸°ç¢ºèª
- ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š
- æ”¹å–„å®Ÿæ–½
- å†è¨ˆæ¸¬
- åŸºæº–ã‚’æº€ãŸã•ãªã„é™ã‚Šæ¬¡Phaseã¸é€²ã¾ãªã„
```

### 8.4 Phase 9: æš—å·åŒ–åŸºç›¤ + æ—¢å­˜APIå®Œæˆ + åŸºæº–ç¢ºå®šï¼ˆâœ… å®Œäº† - 92%é”æˆï¼‰

**ç›®çš„**: Phase 10ä»¥é™ã®æ©Ÿèƒ½æ‹¡å¼µã«è€ãˆã‚‹å®‰å®šã—ãŸåŸºç›¤ã‚’ç¢ºç«‹

**ã‚¹ã‚³ãƒ¼ãƒ—**:
- æ—¢å­˜APIï¼ˆPhase 8ã¾ã§ï¼‰ã®å®Œæˆã®ã¿
- `/api/auth/*`, `/api/workspaces/*`, `/api/audit-logs`, `/api/reports/*`, `/api/leads/*`, `/api/clients/*`
- **å¯¾è±¡å¤–**: `/api/todos/*`, `/api/action-maps/*`, `/api/objectives/*`ï¼ˆPhase 10ã€œ12ã§å®Ÿè£…ï¼‰

**å®Œäº†åŸºæº–ï¼ˆPhase 9 + Phase 9.5 å®Œäº†ï¼‰**:
- âœ… ã‚µãƒ¼ãƒãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼ãŒå‹•ä½œï¼ˆdev / æœ¬ç•ªï¼‰
- âœ… æš—å·åŒ–å‰²å½“è¡¨ï¼ˆEncryption Allocation Tableï¼‰ç¢ºå®š
- âœ… Performance Specification v1.0 ç¢ºå®š
- âœ… workspace_data 250KBå®¹é‡åˆ¶é™ãƒãƒªã‚·ãƒ¼ç¢ºå®š
- âœ… **Cookieè¨­å®šå®Œå…¨å®Ÿè£…ï¼ˆèª­ã¿å–ã‚Šãƒ»é€ä¿¡ãƒ»ç”Ÿæˆã™ã¹ã¦å®Œäº†ã€Phase 9.5-A-0ï¼‰**
- âœ… DBç§»è¡Œå®Œäº†ï¼ˆNeon â†’ Supabase PostgreSQL 17.6ï¼‰
- âœ… èªè¨¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ç§»è¡Œå®Œäº†ï¼ˆJWT â†’ Supabase Auth + ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼‰
- âœ… **ç’°å¢ƒå¤‰æ•°ã®å®Œå…¨æ•´å‚™å®Œäº†ï¼ˆPhase 9.5-A-3ï¼‰**
- âœ… **å‹ã‚¨ãƒ©ãƒ¼è§£æ¶ˆå®Œäº†ï¼ˆUser.id ç­‰ã‚’ number ã«çµ±ä¸€ã€TypeScript ã‚¨ãƒ©ãƒ¼ 50ä»¶ â†’ 0ä»¶ï¼‰**
- âœ… **ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå®Œå…¨ã‚«ã‚¿ãƒ­ã‚°åŒ–å®Œäº†ï¼ˆ54ä»¶ã€Phase 9.5-C-2ï¼‰**
- âœ… **Phase 9.5 åŸºç›¤æ•´å‚™å®Œäº†ï¼ˆé€²æ—ç‡ 96%ï¼‰**
- ğŸ“‹ **E2E å®Œå…¨åŒ–ã‚¿ã‚¹ã‚¯ï¼ˆã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ 54ä»¶ï¼‰ã‚’ Phase 9.7 ã¸æ­£å¼ç§»ç®¡ï¼ˆ2025-11-18ï¼‰**

**å®Œäº†å®Ÿç¸¾**:
- âœ… DBåŸºç›¤ç§»è¡Œï¼ˆNeon â†’ Supabaseï¼‰: 100% å®Œäº†ï¼ˆ2025-11-17ï¼‰
- âœ… èªè¨¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ç§»è¡Œï¼ˆJWT â†’ Supabase Auth + ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰: 100% å®Œäº†ï¼ˆ2025-11-17ï¼‰
- âœ… æš—å·åŒ–APIçµ±åˆï¼ˆworkspace_data / Leads / Clientsï¼‰: 100% å®Œäº†
- âœ… Phase 9-7: Google OAuth ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå•é¡Œä¿®æ­£ï¼ˆlocalhost â†’ æœ¬ç•ªURLï¼‰
- âœ… Phase 9-7: Supabase Authå®Œå…¨ç§»è¡Œï¼ˆæ—§èªè¨¼ã‚³ãƒ¼ãƒ‰å‰Šé™¤ï¼‰
- âœ… Phase 9-7: Supabase CDNå¯¾å¿œ
- âœ… Phase 9-7: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œ1ç§’ä»¥å†…è¡¨ç¤ºï¼‰
- âœ… Phase 9-7: Cookieè¨­å®šæœ€é©åŒ–ï¼ˆDomainå±æ€§å‰Šé™¤ã€SameSite=Laxçµ±ä¸€ï¼‰

**è©³ç´°**: `DOCS/legacy/PHASE9-ENCRYPTION-AND-API-RUNBOOK.md`ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ã€`DOCS/Phase9-DB-Migration-Progress.md` å‚ç…§

---

### 8.5 Phase 9.5: Core Hardeningï¼ˆâœ… å®Œäº† - E2E å®Œå…¨åŒ–ã¯ Phase 9.7 ã¸ç§»ç®¡ï¼‰

**ç›®çš„**: Phase 9 ã®æˆæœã‚’åŸºç›¤ã«ã€åŸºç›¤æ•´å‚™ï¼ˆCookie, ç’°å¢ƒå¤‰æ•°, å‹æ•´åˆï¼‰ã‚’å®Œäº†ã—ã€Phase 10 ä»¥é™ã®å®‰å…¨ãªæ©Ÿèƒ½æ‹¡å¼µã‚’å¯èƒ½ã«ã™ã‚‹ã€‚

**å®Œäº†æ—¥**: 2025-11-18
**é€²æ—ç‡**: 92% â†’ 96% é”æˆ
**ç§»ç®¡**: E2E ãƒ†ã‚¹ãƒˆå®Œå…¨åŒ–ã‚¿ã‚¹ã‚¯ï¼ˆã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ 54ä»¶ï¼‰ã‚’ Phase 9.7 ã¸æ­£å¼ç§»ç®¡

**ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆ3ã¤ã®ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºï¼‰**:

**9.5-A: Core Hardeningï¼ˆåŸºç›¤å¼·åŒ–ï¼‰**
- **A-0: Cookieè¨­å®šå‡¦ç†ã®å®Œæˆï¼ˆâœ… å®Œäº†ï¼‰**
  - âœ… `api/_lib/session.ts` ã« `setCookieHeader()` é–¢æ•°ã‚’å®Ÿè£…å®Œäº†
  - âœ… `api/auth/token.ts` ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã« Set-Cookie ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿”å´
  - âœ… Cookie ä»•æ§˜: HttpOnly, Path=/, Max-Age=604800, SameSite=Lax, Secureï¼ˆæœ¬ç•ªã®ã¿ï¼‰
  - âœ… Domain å±æ€§å‰Šé™¤ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•è¨­å®šï¼‰
- **A-3: ç’°å¢ƒå¤‰æ•°ã®å®Œå…¨æ•´å‚™ï¼ˆâœ… å®Œäº†ï¼‰**
  - âœ… `.env.example` ã‚’ "Supabase PostgreSQL 17.6" å‰æã«å…¨é¢æ›´æ–°
  - âœ… å¿…é ˆç’°å¢ƒå¤‰æ•°ï¼ˆ9é …ç›®ï¼‰ã¨ä»»æ„ç’°å¢ƒå¤‰æ•°ï¼ˆ18é …ç›®ï¼‰ã®æ˜ç¤º
  - âœ… `scripts/verify-env.sh` ã§å…¨å¿…é ˆç’°å¢ƒå¤‰æ•°ã®å­˜åœ¨ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- **å‹æ•´åˆï¼ˆâœ… å®Œäº†ï¼‰**
  - âœ… User.id, Workspace.ownerUserId, Session.userId ã‚’ number ã«çµ±ä¸€
  - âœ… URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ parseInt ã§ number ã«å¤‰æ›ã—ã¦ã‹ã‚‰ DB é–¢æ•°ã«æ¸¡ã™
  - âœ… TypeScript ã‚¨ãƒ©ãƒ¼ 50ä»¶ â†’ 0ä»¶
- æš—å·åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å˜ä½åŒ–ãƒ»ç ´æè€æ€§
- å®¹é‡ç®¡ç†ãƒãƒªã‚·ãƒ¼ã®ç¢ºå®šï¼ˆworkspace_data 250KBåˆ¶é™é‹ç”¨ï¼‰
- Dev / Prod / Local ã®ç’°å¢ƒæ•´åˆæ€§ç¢ºä¿
- CI/CDå®‰å®šåŒ–ï¼ˆVercel ãƒ‡ãƒ—ãƒ­ã‚¤ã®å®‰å®šåŒ–ï¼‰

**9.5-B: Next.js 15 ã¸ã®å…¨é¢ç§»è¡Œ**
- Next.js 15 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆApp Routerï¼‰
- **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ­£ç¢ºãªã‚«ã‚¿ãƒ­ã‚°åŒ–ï¼ˆPhase 9 æ®‹å‚µã®è§£æ¶ˆï¼‰**
  - ç¾çŠ¶: "æ¦‚ç®— 25-28ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ"ï¼ˆæ­£ç¢ºãªã‚«ã‚¦ãƒ³ãƒˆæœªå®Ÿæ–½ï¼‰
  - å¯¾å¿œ: å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ­£ç¢ºãªã‚«ã‚¦ãƒ³ãƒˆã¨å®Œå…¨ãªã‚«ã‚¿ãƒ­ã‚°ä½œæˆ
- API Route Handlers åŒ–ï¼ˆ`api/*` â†’ `app/api/**/route.ts`ï¼‰
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ReactåŒ–ï¼ˆ`js/tabs/*` â†’ `app/(app)/*/page.tsx`ï¼‰
- èªè¨¼ãƒ•ãƒ­ãƒ¼Next.jsçµ±åˆ

**9.5-C: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå¯¾å¿œ**
- E2E/Integration/Unitãƒ†ã‚¹ãƒˆæ›´æ–°ï¼ˆNext App Routerå¯¾å¿œï¼‰
- ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆè§£æ¶ˆï¼ˆ21ä»¶ã®æ£šå¸ã—ï¼‰
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆNextå¯¾å¿œï¼ˆGRAND-GUIDE / HOW-TO-DEVELOP / Performance Specï¼‰

**å®Œäº†åŸºæº–**:
- âœ… æš—å·åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å˜ä½ï¼ˆã¾ãŸã¯ãƒ­ã‚¸ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ï¼‰ã§å¾©å·ã‚¨ãƒ©ãƒ¼ã«è€ãˆã‚‰ã‚Œã‚‹ã“ã¨
- âœ… å®¹é‡ç®¡ç†ãƒãƒªã‚·ãƒ¼ãŒ Performance Spec ã¨æ•´åˆã—ã€æœ€ä½é™ã®å®Ÿè£…ãŒå…¥ã£ã¦ã„ã‚‹ã“ã¨
- âœ… Dev / Prod / Local ã®æŒ™å‹•å·®åˆ†ãŒæ—¢çŸ¥ã®ç¯„å›²ã«åæŸã—ã¦ã„ã‚‹ã“ã¨
- âœ… CI/CDï¼ˆGit â†’ Vercelï¼‰ãŒå®‰å®šã—ã¦æˆåŠŸã™ã‚‹ã“ã¨
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒ Next App Router ãƒ™ãƒ¼ã‚¹ã§å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨
- âœ… API ãŒ `app/api/**/route.ts` ã«çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- âœ… æ—§æ§‹æˆï¼ˆç‹¬è‡ª `js/` ã‚¨ãƒ³ãƒˆãƒªã€æ—§ `api/` ãƒ«ãƒ¼ãƒˆï¼‰ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- âœ… èªè¨¼ãƒ•ãƒ­ãƒ¼ãŒ Next ãƒ™ãƒ¼ã‚¹ã®çµ±ä¸€ãƒ­ã‚¸ãƒƒã‚¯ã«ç§»è¡Œæ¸ˆã¿ã§ã‚ã‚‹ã“ã¨
- âœ… ä¸»è¦ãª E2E / Integration / Unit ãƒ†ã‚¹ãƒˆãŒ Next æ§‹æˆã§ PASS ã—ã¦ã„ã‚‹ã“ã¨
- âœ… ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆãŒåŸå‰‡ã‚¼ãƒ­ï¼ˆã¾ãŸã¯ç†ç”±ä»˜ãã§æ˜ç¤ºçš„ã«æ®‹ã•ã‚Œã¦ã„ã‚‹ï¼‰ã§ã‚ã‚‹ã“ã¨
- âœ… GRAND-GUIDE / HOW-TO-DEVELOP / Performance Spec ãªã©ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæœ€æ–°ç‰ˆã«ãªã£ã¦ã„ã‚‹ã“ã¨

**Phase 9 ã‹ã‚‰ã®å¼•ãç¶™ãäº‹é …ï¼ˆæ®‹ã‚Š8%ã®ä»•ä¸Šã’ã‚¿ã‚¹ã‚¯ï¼‰**:
- âœ… DBç§»è¡Œå®Œäº†ï¼ˆNeon â†’ Supabase PostgreSQL 17.6ï¼‰
- âœ… èªè¨¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ç§»è¡Œå®Œäº†ï¼ˆJWT â†’ Supabase Auth + ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼‰
- âœ… æš—å·åŒ–çµ±åˆå®Œäº†ï¼ˆworkspace_data / Leads / Clientsï¼‰
- âœ… Cookieè¨­å®šåŸºç›¤ï¼ˆèª­ã¿å–ã‚Šãƒ»é€ä¿¡ï¼‰: å®Ÿè£…æ¸ˆã¿
- âš ï¸ **Cookieè¨­å®šå‡¦ç†ã®å®Œæˆï¼ˆç´„50% â†’ 100%ã¸ï¼‰**
  - Set-Cookie ãƒ˜ãƒƒãƒ€ãƒ¼ç”Ÿæˆé–¢æ•°ãŒæœªå®Ÿè£…
  - Phase 9.5-A-0 ã§ `setCookieHeader()` ã‚’å®Ÿè£…
- âš ï¸ **ç’°å¢ƒå¤‰æ•°ã®å®Œå…¨æ•´å‚™ï¼ˆ65% â†’ 100%ã¸ï¼‰**
  - `.env.example` ãŒå¤ã„æƒ…å ±ï¼ˆ"Vercel Postgres"è¨˜è¼‰ï¼‰
  - Phase 9.5-A-3 ã§å…¨å¿…é ˆãƒ»ä»»æ„ç’°å¢ƒå¤‰æ•°ã‚’æ˜ç¤º
- âš ï¸ **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ­£ç¢ºãªã‚«ã‚¿ãƒ­ã‚°åŒ–**
  - ç¾çŠ¶ã¯"æ¦‚ç®— 25-28ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ"
  - Phase 9.5-B-2 ã§æ­£ç¢ºãªã‚«ã‚¦ãƒ³ãƒˆã¨ã‚«ã‚¿ãƒ­ã‚°ä½œæˆ
- âš ï¸ **ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆè§£æ¶ˆï¼ˆ47ä»¶ã‚’æ®µéšçš„ã«å¯¾å¿œï¼‰**
  - Phase 9.5: 18ä»¶ã€Phase 9.7: 12ä»¶ã€Phase 10: 17ä»¶
- âš ï¸ **Next.js 15 ç§»è¡Œæº–å‚™ï¼ˆç¾åœ¨ã¯ TypeScript + Vercel Functions æ§‹æˆï¼‰**
  - Phase 9.5-B ã§ App Router ãƒ™ãƒ¼ã‚¹ã«å…¨é¢ç§»è¡Œ

**Phase 9.7ã¸ã®å¼•ãç¶™ãäº‹é …**:
- Next.js 15 + Supabase + AESåŸºç›¤å®Œæˆ
- ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆå‰Šæ¸›ï¼ˆPhase 9.7ã§0ä»¶é”æˆï¼‰
- ç’°å¢ƒå·®åˆ†è§£æ¶ˆ
- CI/CDå®‰å®šåŒ–

**è©³ç´°**: `DOCS/Phase9.5-Core-Hardening-Next-Ready-Migration-Design.md` å‚ç…§

---

### 8.6 Phase 9.7: æœ€çµ‚ãƒãƒ¼ãƒ‰ãƒ‹ãƒ³ã‚°ï¼ˆğŸš§ æº–å‚™ä¸­ï¼‰

**ç›®çš„**: Founders Direct Cockpit ã‚’ã€ŒæŠ€è¡“è² å‚µã‚¼ãƒ­ã®çŠ¶æ…‹ã€ã¸å®Œå…¨ã«æ•´ãˆã€Phase 10ã€œ12 ã®å¤§è¦æ¨¡æ‹¡å¼µã«å‚™ãˆã‚‹æœ€çµ‚ãƒãƒ¼ãƒ‰ãƒ‹ãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚ºã€‚

**ã‚¹ã‚³ãƒ¼ãƒ—**:
- Next.js App Router ã¸ã®å®Œå…¨æ•´åˆ
- 9.3ã€œ9.5 ã«æ®‹å­˜ã™ã‚‹ãƒ¬ã‚¬ã‚·ãƒ¼æ§‹é€ ã®å…¨å»ƒ
- API/E2E/Unit å…¨ãƒ†ã‚¹ãƒˆã®å®Œå…¨æˆåŠŸ
- ç’°å¢ƒå¤‰æ•°ã‚¬ãƒãƒŠãƒ³ã‚¹ã®ç¢ºç«‹
- æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨å®‰å®šåŒ–

**å®Œäº†åŸºæº–ï¼ˆDODï¼‰**:

**APIå±¤ã®å®Œå…¨æ•´åˆ**
- âœ… èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®çµ±åˆãƒ»å…±é€šåŒ–
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieã®å³æ ¼æ¤œè¨¼
- âœ… 401/403/404ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ­£è¦åŒ–
- âœ… å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å…±é€šåŒ–
- âœ… HTTPå‹•è©ã®èª¤ç”¨æ’é™¤ï¼ˆGET/POST/PUT/DELETEï¼‰

**æš—å·åŒ–å±¤ã®å®Œå…¨å®‰å®šåŒ–**
- âœ… Master Keyã®å–ã‚Šæ‰±ã„æ¨™æº–åŒ–
- âœ… AES-256-GCM decrypt ã®å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¤œè¨¼
- âœ… Nonceå†åˆ©ç”¨ç¦æ­¢ãƒ»æ¤œè¨¼
- âœ… Workspace Keyç”Ÿæˆãƒ•ãƒ­ãƒ¼ã®ä¸€è²«åŒ–

**Supabase RLSå®Œå…¨æ¤œè¨¼**
- âœ… `workspace_data` RLSãƒãƒªã‚·ãƒ¼ç¢ºèª
- âœ… `workspace_keys` RLSãƒãƒªã‚·ãƒ¼ç¢ºèª
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥è¡Œãƒ¬ãƒ™ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã®æ­£å¸¸æ€§

**ãƒ¬ã‚¬ã‚·ãƒ¼æ§‹é€ ã®å…¨å»ƒ**
- âœ… ãƒ¬ã‚¬ã‚·ãƒ¼ `unlockApp()` ã®å…¨å‰Šé™¤
- âœ… localStorage ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®å»ƒæ­¢
- âœ… ã‚¨ãƒ©ãƒ¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ¨™æº–åŒ–
- âœ… AppDataæ•´åˆæ€§ãƒãƒªãƒ‡ãƒ¼ã‚¿ã®å°å…¥
- âœ… 9.3ã€œ9.5æ®‹å­˜ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ã®å®Œå…¨å‰Šé™¤

**å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ**
- âœ… E2Eãƒ†ã‚¹ãƒˆå…¨æˆåŠŸï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€WSåˆ‡æ›¿ã€CRUDã€ãƒªãƒ­ãƒ¼ãƒ‰æ°¸ç¶šåŒ–ã€RLSå¢ƒç•Œï¼‰
- âœ… Unitãƒ†ã‚¹ãƒˆå…¨æˆåŠŸï¼ˆæš—å·åŒ–ãƒ˜ãƒ«ãƒ‘ãƒ¼ã€APIClientã€çŠ¶æ…‹ç®¡ç†ï¼‰
- âœ… Integrationãƒ†ã‚¹ãƒˆå…¨æˆåŠŸï¼ˆDBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€`/api/workspaces/*`ï¼‰
- âœ… ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ0ä»¶é”æˆï¼ˆPhase 9æ™‚ç‚¹47ä»¶ã‹ã‚‰å®Œå…¨è§£æ¶ˆï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–é”æˆ**
- âœ… DashboardåˆæœŸè¡¨ç¤º: P95 < 2s
- âœ… APIå¿œç­”: P95 < 300ms
- âœ… WorkspaceData ã‚µã‚¤ã‚º: P95 < 250KB
- âœ… Google SDKèª­ã¿è¾¼ã¿ãƒ¬ãƒ¼ã‚¹æ¡ä»¶è§£æ±º

**ç’°å¢ƒå¤‰æ•°ã‚¬ãƒãƒŠãƒ³ã‚¹**
- âœ… å…¨å¿…é ˆç’°å¢ƒå¤‰æ•°ã®è¨­å®šç¢ºèªï¼ˆJWT_SECRET, MASTER_ENCRYPTION_KEY, SUPABASE_URLç­‰ï¼‰
- âœ… Vercelç’°å¢ƒå¤‰æ•°ã®å®Œå…¨æ•´åˆ
- âœ… Dev/Prod/Localç’°å¢ƒã®å®Œå…¨ä¸€è‡´

**Phase 10 ã¸ã® GO/NO-GO æ¡ä»¶**:

**GO æ¡ä»¶**
1. ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
2. Performance Spec v1.0 ã«æº–æ‹ 
3. æš—å·åŒ–ã‚¨ãƒ©ãƒ¼ãŒ 0 ä»¶
4. DB schema ãŒå‡çµï¼ˆå¤‰æ›´å®Œäº†ï¼‰
5. ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ0ä»¶
6. Next.js/Vercel Serverlessåˆ¶ç´„ã«å®Œå…¨æº–æ‹ 
7. Vercelç’°å¢ƒå¤‰æ•°ãŒå®Œå…¨è¨­å®šãƒ»æ•´åˆæ¸ˆã¿

**NO-GO æ¡ä»¶**
1. ãƒ­ã‚°ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ï¼ˆsession flappingï¼‰ãŒç™ºç”Ÿ
2. ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã®æ°¸ç¶šåŒ–ãŒä¸å®‰å®š
3. WorkspaceData ãŒ 250KB ã‚’è¶…é
4. ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆãŒ1ä»¶ã§ã‚‚æ®‹å­˜

**Phase 10ã¸ã®å¼•ãç¶™ãäº‹é …**:
- æŠ€è¡“è² å‚µã‚¼ãƒ­ã®çŠ¶æ…‹é”æˆ
- å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ0ä»¶ï¼‰
- Next.js App Routerå®Œå…¨æ•´åˆ
- ç’°å¢ƒå¤‰æ•°ã‚¬ãƒãƒŠãƒ³ã‚¹ç¢ºç«‹

**è©³ç´°**: `DOCS/PHASE9.7-RUNBOOK.md` å‚ç…§

---

### 8.7 Phase 10ã€œ12 ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ

Phase 9.7 å®Œäº†å¾Œã€ä»¥ä¸‹ã®ãƒ•ã‚§ãƒ¼ã‚ºã¸é †æ¬¡ç§»è¡Œ:
- **Phase 10**: TODOæ‹¡å¼µï¼ˆ4è±¡é™ + ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ + Elastic Habitsï¼‰
- **Phase 11**: Action Mapï¼ˆæˆ¦è¡“ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰
- **Phase 12**: OKRï¼ˆæˆ¦ç•¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰

å„Phaseé–‹å§‹å‰ã«å¿…ãšä»¥ä¸‹ã‚’ç¢ºèª:
1. å‰Phaseã®å®Œäº†åŸºæº–ï¼ˆDODï¼‰å…¨é …ç›®é”æˆ
2. GO/NO-GOæ¡ä»¶ã®ã‚¯ãƒªã‚¢
3. ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ0ä»¶
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ç¶­æŒ

### 8.8 Phase 10: TODOæ‹¡å¼µï¼ˆ4è±¡é™ + ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ + æ¾ç«¹æ¢…ç¿’æ…£ï¼‰

**ç›®çš„**: ã‚³ãƒ“ãƒ¼ã®ã€Œç·Šæ€¥ Ã— é‡è¦ã€ãƒãƒˆãƒªã‚¯ã‚¹ã‚’å®Ÿè£…ã—ã€æ™‚é–“ã®è³ªã‚’å¯è¦–åŒ–

**ä¸»è¦æ©Ÿèƒ½**:
- 4è±¡é™ãƒœãƒ¼ãƒ‰ï¼ˆâ™ â™¥â™¦â™£ï¼‰
- 15åˆ†å˜ä½æ™‚é–“ç®¡ç†ï¼ˆåŸºæœ¬ã¯30åˆ†ä»¥ä¸Šãƒ–ãƒ­ãƒƒã‚¯ï¼‰
- Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº
- Elastic Habitsï¼ˆæ¾ç«¹æ¢…ç¿’æ…£ï¼‰

**å®Œäº†åŸºæº–**:
- âœ… æ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆ4è±¡é™ãƒœãƒ¼ãƒ‰ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºã€Elastic Habitsï¼‰
- âœ… workspace_data 225KBä»¥ä¸‹ï¼ˆ250KBåˆ¶é™ã®90%ä»¥å†…ï¼‰
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã‚’æº€ãŸã™ï¼ˆ4è±¡é™ãƒœãƒ¼ãƒ‰ P95 < 1.2ç§’ ç­‰ï¼‰
- âœ… E2Eãƒ†ã‚¹ãƒˆå…¨ã¦passï¼ˆæ—¢å­˜æ©Ÿèƒ½å›å¸°å«ã‚€ï¼‰

**è©³ç´°**: `DOCS/PHASE10-TODO-ELASTIC-RUNBOOK.md` å‚ç…§

### 8.9 Phase 11: Action Mapï¼ˆæˆ¦è¡“ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰

**ç›®çš„**: ä¸Šå¸â†’éƒ¨ä¸‹ã®æˆ¦è¡“æŒ‡ç¤ºãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å®Ÿè£…ã—ã€TODO ã¨é€£æº

**ä¸»è¦æ©Ÿèƒ½**:
- Action Map CRUDï¼ˆæˆ¦è¡“è¨ˆç”»ï¼‰
- Action Item ãƒ„ãƒªãƒ¼æ§‹é€ ï¼ˆæ‹…å½“ã‚¢ã‚µã‚¤ãƒ³ï¼‰
- TODOé€£æºï¼ˆç”Ÿæˆ/ç´ä»˜ã‘ï¼‰
- é€²æ—é›†è¨ˆï¼ˆãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ï¼‰
- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ©Ÿèƒ½ï¼ˆå®¹é‡å¯¾ç­–ï¼‰

**å®Œäº†åŸºæº–**:
- âœ… æ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆAction Mapã€Action Itemã€TODOé€£æºã€é€²æ—é›†è¨ˆï¼‰
- âœ… workspace_data 200KBä»¥ä¸‹æ¨å¥¨ï¼ˆã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å®Ÿè£…æ¸ˆã¿ï¼‰
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã‚’æº€ãŸã™ï¼ˆAction Mapè¡¨ç¤º P95 < 1.5ç§’ã€Phase 10åŸºæº–ã‚‚ç¶­æŒï¼‰
- âœ… E2Eãƒ†ã‚¹ãƒˆå…¨ã¦passï¼ˆPhase 10å›å¸°å«ã‚€ï¼‰

**è©³ç´°**: `DOCS/PHASE11-ACTION-MAP-RUNBOOK.md` å‚ç…§

### 8.10 Phase 12: OKRï¼ˆæˆ¦ç•¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰

**ç›®çš„**: æˆ¦ç•¥ï¼ˆOKRï¼‰â†’ æˆ¦è¡“ï¼ˆAction Mapï¼‰â†’ å®Ÿè¡Œï¼ˆTODOï¼‰ã®ä¸€æ°—é€šè²«ã‚’å®Œæˆ

**ä¸»è¦æ©Ÿèƒ½**:
- Objective / Key Result CRUD
- KR â†” ActionMap é€£æºï¼ˆN:Må¯¾å¿œï¼‰
- ãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—å‡¦ç†ï¼ˆTask â†’ ActionItem â†’ ActionMap â†’ KR â†’ Objectiveï¼‰
- Dashboard OKRã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

**å®Œäº†åŸºæº–ï¼ˆæœ¬ç•ªé‹ç”¨é–‹å§‹ï¼‰**:
- âœ… æ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆOKR CRUDã€ãƒ­ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã€Dashboardé€£æºï¼‰
- âœ… workspace_data 250KBä»¥ä¸‹ï¼ˆãƒãƒ¼ãƒ‰ä¸Šé™ï¼‰ã€200KBä»¥ä¸‹æ¨å¥¨
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã‚’æº€ãŸã™ï¼ˆPhase 9ã€œ11ã®å…¨åŸºæº–ã‚‚ç¶­æŒï¼‰
- âœ… E2Eãƒ†ã‚¹ãƒˆå…¨ã¦passï¼ˆçµ±åˆE2Eå«ã‚€ï¼‰
- âœ… æ—¢å­˜æ©Ÿèƒ½ã«ç ´å£Šçš„å¤‰æ›´ãŒãªã„

**è©³ç´°**: `DOCS/PHASE12-OKR-RUNBOOK.md` å‚ç…§

### 8.11 Phase 9-12 é–‹ç™ºæ™‚ã®æ³¨æ„äº‹é …

#### ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºé€²è¡Œãƒ«ãƒ¼ãƒ«
- å„Phaseã¯ **X-0ã€œX-7** ã®ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºå˜ä½ã§é€²è¡Œ
- å„ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã«**ãƒ¬ãƒãƒ¼ãƒˆã—ã¦ä¸€åº¦åœæ­¢ã—ã€äººé–“ã®æ‰¿èªãªã—ã«æ¬¡ã¸é€²ã¾ãªã„**
- **Design â†’ Implement â†’ Test â†’ Refine â†’ Report** ã®é †ç•ªã‚’å¿…ãšå®ˆã‚‹

#### AIé–‹ç™ºè€…ã¸ã®æŒ‡ç¤º
```
Phase X é–‹ç™ºæ™‚ã¯ã€å¿…ãšä»¥ä¸‹ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰é–‹å§‹ã™ã‚‹ã“ã¨ï¼š
- DOCS/HOW-TO-DEVELOP.mdï¼ˆæœ¬ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- DOCS/FDC-GRAND-GUIDE.md
- DOCS/PHASEXX-RUNBOOK.mdï¼ˆè©²å½“Phaseï¼‰
- DOCS/Performance-Specification-v1.0.md

å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã€ä¿®æ­£å†…å®¹ã€ç†ç”±ã€å½±éŸ¿ç¯„å›²ã‚’å¿…ãšæ˜ç¤ºã—ã€
ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬çµæœã‚’æå‡ºã™ã‚‹ã“ã¨ã€‚
```

### 8.12 æŠ€è¡“è² å‚µç®¡ç†ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆPhase 9.92/9.93ï¼‰

#### èƒŒæ™¯ã¨ç›®çš„

Phase 9.92ï¼ˆå…¨ã‚¿ãƒ–Reactç§»è¡Œï¼‰ã§ã¯ã€**ã€Œæ©Ÿèƒ½ç§»è¡Œã‚’æœ€å„ªå…ˆã€** ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚„å°†æ¥ã®æ‹¡å¼µæ€§ç¢ºä¿ã¯ Phase 9.93 ã«å…ˆé€ã‚Šã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æŠ€è¡“è² å‚µãŒç™ºç”Ÿã—ã¾ã™ãŒã€**æ„å›³çš„ã‹ã¤ç®¡ç†ã•ã‚ŒãŸå½¢ã§è² å‚µã‚’è¨˜éŒ²ãƒ»è¿½è·¡** ã™ã‚‹ã“ã¨ã§ã€Phase 9.93 ã§ã®è¨ˆç”»çš„ãªè§£æ¶ˆã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

#### æŠ€è¡“è² å‚µã®3ã‚«ãƒ†ã‚´ãƒª

Phase 9.92 ã§ã¯ã€ä»¥ä¸‹ã®3ã¤ã®ã‚«ãƒ†ã‚´ãƒªã§æŠ€è¡“è² å‚µã‚’è¨˜éŒ²ã—ã¾ã™ï¼š

| ã‚«ãƒ†ã‚´ãƒª | TODO ã‚³ãƒ¡ãƒ³ãƒˆ | å¯¾è±¡ | Phase 9.93 ã§ã®å¯¾å‡¦ |
|---------|--------------|------|-------------------|
| **ã‚³ãƒ¼ãƒ‰åˆ†å‰²** | `// TODO: Phase 9.93 - dynamic import æ¤œè¨ï¼ˆãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–ï¼‰` | Reports, ZoomScript, Templates, LeanCanvas ã‚¿ãƒ– | `next/dynamic` ã«ã‚ˆã‚‹é…å»¶ãƒ­ãƒ¼ãƒ‰ |
| **RSC/SSRåŒ–** | `// TODO: Phase 9.93+ - RSCåŒ–æ¤œè¨ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ•ã‚§ãƒƒãƒç§»è¡Œï¼‰` | é›†è¨ˆç³»APIå‘¼ã³å‡ºã— | Reports ã‚¿ãƒ–ã§ RSC PoC å®Ÿæ–½ |
| **CSS ã‚¹ã‚³ãƒ¼ãƒ—åŒ–** | `/* TODO: Phase 9.93 - Tailwind/CSS Modules ç§»è¡Œå¯¾è±¡ */` | ãƒ¬ã‚¬ã‚·ãƒ¼CSSãƒ–ãƒ­ãƒƒã‚¯ï¼ˆglobals.cssï¼‰ | CSS Modules ã¸ã®ç§»è¡Œ |

#### Phase 9.92 ã§ã®å®Ÿè£…ãƒ«ãƒ¼ãƒ«

1. **TODO ã‚³ãƒ¡ãƒ³ãƒˆã®è¨˜è¼‰**
   - ä¸Šè¨˜3ã‚«ãƒ†ã‚´ãƒªã«è©²å½“ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¯ã€**å¿…ãš TODO ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¨˜è¼‰**
   - ã‚³ãƒ¡ãƒ³ãƒˆã«ã¯ Phase ç•ªå·ã¨å¯¾å‡¦å†…å®¹ã‚’æ˜è¨˜
   - ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã« TODO ã‚³ãƒ¡ãƒ³ãƒˆã®æœ‰ç„¡ã‚’ç¢ºèª

2. **æŠ€è¡“è² å‚µã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®ä½œæˆ**
   - Phase 9.92 å®Œäº†æ™‚ã« `docs/TECH-DEBT-INVENTORY.md` ã‚’ä½œæˆ
   - ã™ã¹ã¦ã® TODO ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¸€è¦§åŒ–ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åã€è¡Œç•ªå·ã€å„ªå…ˆåº¦ï¼‰
   - Phase 9.93 ã§ã®è§£æ¶ˆé€²æ—ã‚’è¿½è·¡

3. **å®Œäº†æ¡ä»¶ã¸ã®çµ„ã¿è¾¼ã¿**
   - Phase 9.92 ã® DOD ã«ã€ŒæŠ€è¡“è² å‚µãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã€ã‚’å«ã‚ã‚‹
   - TODO ã‚³ãƒ¡ãƒ³ãƒˆè¨˜è¼‰æ¼ã‚ŒãŒãªã„ã“ã¨ã‚’ç¢ºèª
   - Phase 9.93 ã¸ã®å¼•ãç¶™ãäº‹é …ã‚’æ˜ç¢ºåŒ–

#### Phase 9.93 ã§ã®è§£æ¶ˆãƒ—ãƒ­ã‚»ã‚¹

**æŠ€è¡“è² å‚µè§£æ¶ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ï¼ˆ`docs/PHASE9.93-BUGFIX-RUNBOOK.md` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5ï¼‰:

1. **ã‚³ãƒ¼ãƒ‰åˆ†å‰²æˆ¦ç•¥ã®å®Ÿè£…**ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5.1ï¼‰
   - **æ–¹é‡æ±ºå®š**: `next/dynamic` ã«ã‚ˆã‚‹é…å»¶ãƒ­ãƒ¼ãƒ‰ vs route åˆ†å‰²
   - **å®Ÿè£…å¯¾è±¡**: Reportsï¼ˆé«˜ï¼‰ã€ZoomScriptï¼ˆé«˜ï¼‰ã€Templatesï¼ˆä¸­ï¼‰ã€LeanCanvasï¼ˆä¸­ï¼‰
   - **å®Œäº†æ¡ä»¶**: åˆæœŸãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º 30% å‰Šæ¸›ã€Lighthouse Performance 80ä»¥ä¸Š

2. **RSC/SSR éƒ¨åˆ†å°å…¥ PoC**ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5.2ï¼‰
   - **å¯¾è±¡**: Reports ã‚¿ãƒ–ï¼ˆé›†è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰
   - **PoC ã‚¹ãƒ†ãƒƒãƒ—**:
     1. ç¾çŠ¶åˆ†æï¼ˆAPI ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºã€å–å¾—é »åº¦ï¼‰
     2. Server Action ç§»è¡Œï¼ˆ`lib/actions/reports.ts`ï¼‰
     3. Server Component åŒ–ï¼ˆ`app/(app)/reports/page.tsx`ï¼‰
     4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒï¼ˆTTFB, LCP, ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºï¼‰
     5. çµæœãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ï¼ˆ`docs/RSC-POC-REPORT.md`ï¼‰
   - **Phase 10 ã¸ã®å±•é–‹**: PoC çµæœã«åŸºã¥ãã€Reports â†’ Dashboard â†’ Clients ã®å„ªå…ˆé †ä½ã§é©ç”¨

3. **CSS ãƒ¬ã‚¤ãƒ¤ãƒ¼å‡ºå£æˆ¦ç•¥**ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5.3ï¼‰
   - **æ–¹é‡æ±ºå®š**: Tailwind CSS vs CSS Modules ã®äºŒæŠ
   - **æ¨å¥¨**: çŸ­æœŸçš„ã«ã¯ CSS Modulesã€ä¸­é•·æœŸçš„ã« Tailwind ã¸ã®ç§»è¡Œ
   - **ç§»è¡Œã‚¹ãƒ†ãƒƒãƒ—**:
     1. æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ CSS Modules ã§å®Ÿè£…
     2. æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å„ªå…ˆåº¦é †ã«ç§»è¡Œï¼ˆKPICards â†’ ConversionFunnel â†’ LeadKanbanï¼‰
     3. globals.css ã®è©²å½“ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤
   - **å®Œäº†æ¡ä»¶**: globals.css ã®ãƒ¬ã‚¬ã‚·ãƒ¼CSSãƒ–ãƒ­ãƒƒã‚¯ 50% å‰Šæ¸›

#### æŠ€è¡“è² å‚µè§£æ¶ˆã®é€²æ—ç®¡ç†

**`docs/TECH-DEBT-INVENTORY.md` ã®æ§‹æˆ**:

```markdown
## 1. ã‚³ãƒ¼ãƒ‰åˆ†å‰²å¯¾è±¡ï¼ˆ`next/dynamic` æ¤œè¨ï¼‰

| # | ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œç•ªå· | å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å„ªå…ˆåº¦ | Phase 9.93 å¯¾å¿œçŠ¶æ³ |
|---|---------|-------|-------------------|-------|-------------------|
| 1 | `app/(app)/reports/page.tsx` | XX | `ReportsPage` | é«˜ | [ ] æœªå¯¾å¿œ |

## 5. è§£æ¶ˆé€²æ—ã‚µãƒãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª | ç·æ•° | è§£æ¶ˆæ¸ˆã¿ | è§£æ¶ˆç‡ | ç›®æ¨™ï¼ˆPhase 9.93 DODï¼‰ |
|---------|------|---------|-------|----------------------|
| ã‚³ãƒ¼ãƒ‰åˆ†å‰² | 4 | 0 | 0% | 100% |
| RSCåŒ– | 2 | 0 | 0% | PoCå®Œäº† |
| CSSç§»è¡Œ | X | 0 | 0% | 50%ä»¥ä¸Š |
| **åˆè¨ˆ** | XX | 0 | 0% | **50%ä»¥ä¸Š** |
```

#### Phase 10 ã¸ã®å¼•ãç¶™ã

Phase 9.93 å®Œäº†æ™‚ã«ã€ä»¥ä¸‹ã‚’ Phase 10 ã¸å¼•ãç¶™ãã¾ã™ï¼š

1. **RSC å±•é–‹è¨ˆç”»**: PoC çµæœã«åŸºã¥ãã€Reports â†’ Dashboard â†’ Clients ã®å„ªå…ˆé †ä½ã§é©ç”¨
2. **CSS ç§»è¡Œã®æ®‹ä½œæ¥­**: globals.css æ®‹ã‚Š50%ã‚’æ®µéšçš„ã«ç§»è¡Œ
3. **TODOæ©Ÿèƒ½ã¨ã®çµ±åˆ**: Elastic Search çµ±åˆæ™‚ã« RSC ã‚’æ´»ç”¨ã™ã‚‹ä½™åœ°ã‚’æ¤œè¨

#### AIé–‹ç™ºè€…ã¸ã®æŒ‡ç¤º

```
Phase 9.92 å®Ÿè£…æ™‚:
- é‡ã„ã‚¿ãƒ–ï¼ˆReports, ZoomScript, Templates, LeanCanvasï¼‰ã« `// TODO: Phase 9.93 - dynamic import æ¤œè¨` ã‚’è¨˜è¼‰
- é›†è¨ˆç³»APIå‘¼ã³å‡ºã—ã« `// TODO: Phase 9.93+ - RSCåŒ–æ¤œè¨` ã‚’è¨˜è¼‰
- ãƒ¬ã‚¬ã‚·ãƒ¼CSSãƒ–ãƒ­ãƒƒã‚¯ã« `/* TODO: Phase 9.93 - Tailwind/CSS Modules ç§»è¡Œå¯¾è±¡ */` ã‚’è¨˜è¼‰
- Phase 9.92 å®Œäº†æ™‚ã« `docs/TECH-DEBT-INVENTORY.md` ã‚’ä½œæˆ

Phase 9.93 å®Ÿè£…æ™‚:
- `docs/TECH-DEBT-INVENTORY.md` ã‚’å‚ç…§ã—ã¦æŠ€è¡“è² å‚µã‚’è§£æ¶ˆ
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²æˆ¦ç•¥ï¼ˆ`next/dynamic` or route åˆ†å‰²ï¼‰ã‚’æ±ºå®šãƒ»å®Ÿè£…
- Reports ã‚¿ãƒ–ã§ RSC PoC ã‚’å®Ÿæ–½ã€`docs/RSC-POC-REPORT.md` ã‚’ä½œæˆ
- CSS ç§»è¡Œæ–¹é‡ï¼ˆTailwind or CSS Modulesï¼‰ã‚’æ±ºå®šãƒ»å®Ÿè£…
- è§£æ¶ˆé€²æ—ã‚’ `docs/TECH-DEBT-INVENTORY.md` ã«è¨˜éŒ²
```

---

## 9. ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

### 9.1 E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰

**ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯:** Playwright 1.56 + TypeScript

#### ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆä¸€è¦§

| ã‚¹ã‚¤ãƒ¼ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----------|---------|-----------|
| èªè¨¼ | `tests/e2e/auth.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆGoogle OAuthçµ±åˆï¼‰ |
| TODO | `tests/e2e/todo.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆæš—å·åŒ–ä¿å­˜æ¤œè¨¼ï¼‰ |
| è¦‹è¾¼ã¿å®¢ (Leads) | `tests/e2e/leads.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆRBACå¯¾å¿œï¼‰ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | `tests/e2e/templates.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ |
| ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ | `tests/e2e/workspace.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆæš—å·åŒ–ã‚­ãƒ¼ç”Ÿæˆæ¤œè¨¼ï¼‰ |
| ãƒ¬ãƒãƒ¼ãƒˆ | `tests/e2e/reports.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆCSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰ |
| API Analyze | `tests/e2e/api-analyze.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆèªè¨¼ãƒ»èªå¯ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»RLS | `tests/e2e/security-rls.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆPhase 9.7å®Œäº†ï¼‰ |
| ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | `tests/e2e/architecture.spec.ts` | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆPhase 9.7å®Œäº†ï¼‰ |
| Worker çµ±åˆ | `tests/e2e/worker-integration.spec.ts` | ğŸŸ¡ ä¸€éƒ¨ã‚¹ã‚­ãƒƒãƒ—ï¼ˆPhase 10 å¯¾å¿œäºˆå®šï¼‰ |
| Phase 8-8 Suite | `tests/e2e/phase-8-8/*.spec.ts` | ğŸŸ¡ ä¸€éƒ¨ã‚¹ã‚­ãƒƒãƒ—ï¼ˆPhase 10 å¯¾å¿œäºˆå®šï¼‰ |

#### å®Ÿè¡Œæ‰‹é †

**å…¨ãƒ†ã‚¹ãƒˆã‚’ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹å®Ÿè¡Œ:**
```bash
npm test
```

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã§ã®å®Ÿè¡Œ:**
```bash
npx playwright test --project OWNER-chromium
npx playwright test tests/e2e/leads.spec.ts --project MEMBER-chromium
# æ³¨: Phase 9.97 ã§ EXEC â†’ OWNER, MANAGER â†’ ADMIN ã«å¤‰æ›´
```

**ãƒ˜ãƒƒãƒ‰ãƒ•ãƒ« / UI ãƒ¢ãƒ¼ãƒ‰:**
```bash
npx playwright test --headed
npx playwright test --ui
```

**ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º:**
```bash
npx playwright show-report
```

#### å‰ææ¡ä»¶

- Node.js 22.x ä»¥ä¸Š
- `npm install` å®Œäº†
- Playwright ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: `npx playwright install --with-deps`
- **å¿…é ˆç’°å¢ƒå¤‰æ•°ï¼ˆ`.env.local`ï¼‰:**
  - `MASTER_ENCRYPTION_KEY` - AES-256-GCM æš—å·åŒ–ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ¼
  - `JWT_SECRET` - Cookieç½²åç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
  - `SUPABASE_URL` - Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURL
  - `SUPABASE_SERVICE_ROLE` - Supabase ç®¡ç†æ“ä½œç”¨ã‚­ãƒ¼
  - `DATABASE_URL` - Transaction Pooler æ¥ç¶šï¼ˆAPI routesç”¨ï¼‰
  - `DIRECT_DATABASE_URL` - Direct Connectionï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰
  - `GOOGLE_CLIENT_ID` / `GOOGLE_CLIENT_SECRET` - OAuthèªè¨¼
  - `OPENAI_API_KEY` - AIæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆç”¨ï¼ˆPhase 9.8-Bï¼‰
  - `AI_ENABLED=true` - AIæ©Ÿèƒ½æœ‰åŠ¹åŒ–ãƒ•ãƒ©ã‚°ï¼ˆPhase 9.8-Bï¼‰

#### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

| ç—‡çŠ¶ | å¯¾å‡¦ |
|------|------|
| `EADDRINUSE 8888` | æ—¢å­˜ã® `python3 -m http.server 8888` ã‚’åœæ­¢ (`pkill -f http.server`) |
| Google OAuth ã®ãƒ¢ãƒƒã‚¯å¤±æ•— | `.env` ã® `GOOGLE_CLIENT_*` å¤‰æ•°ã‚’å†è¨­å®š |
| æš—å·åŒ–ãƒ†ã‚¹ãƒˆã® decrypt error | `MASTER_ENCRYPTION_KEY` ãŒ `.env` ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª |
| ãƒ†ã‚¹ãƒˆãŒãƒ­ãƒ¼ã‚«ãƒ«ã ã‘å¤±æ•— | `npx playwright test --headed --debug` ã§å†å®Ÿè¡Œ |

---

### 9.2 æ‰‹å‹•ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**Phase 9.8 å®Œäº†æ™‚ç‚¹ã§è‡ªå‹•åŒ–ãŒå›°é›£ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ã€æ‰‹å‹•ãƒ†ã‚¹ãƒˆé …ç›®ã‚’å®Ÿæ–½**

#### ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æš—å·åŒ–ãƒ»å¾©å·ã®å®Œå…¨æ€§ãƒ†ã‚¹ãƒˆ

**æ‰‹é †:**
1. Workspace ã‚’ä½œæˆã—ã€Leads/Clients/Tasks ã‚’å„10ä»¶è¿½åŠ 
2. ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ï¼ˆæš—å·åŒ–ï¼‰
3. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰
4. ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå¾©å·ã•ã‚Œã€å…¨é …ç›®ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**æ¤œè¨¼é …ç›®:**
- [ ] Leads 10ä»¶ã™ã¹ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Clients 10ä»¶ã™ã¹ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Tasks 10ä»¶ã™ã¹ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿å†…å®¹ï¼ˆåå‰ã€é‡‘é¡ã€æ—¥ä»˜ç­‰ï¼‰ãŒä¸€è‡´ã™ã‚‹
- [ ] æ—¥æœ¬èªãƒ»ç‰¹æ®Šæ–‡å­—ãŒæ–‡å­—åŒ–ã‘ã—ã¦ã„ãªã„

**åˆæ ¼åŸºæº–:** ã™ã¹ã¦ã®æ¤œè¨¼é …ç›®ãŒ âœ… ã§ã‚ã‚‹ã“ã¨

---

#### æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ç ´ææ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ

**æ‰‹é †:**
1. Supabase ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ workspaces ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’é–‹ã
2. æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã® `workspace_data` ã‚«ãƒ©ãƒ ã‚’ç›´æ¥ç·¨é›†ã—ã€ç ´æãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§è©²å½“ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹

**æ¤œè¨¼é …ç›®:**
- [ ] ã‚µãƒ¼ãƒãƒ¼ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã›ãšã€ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™
- [ ] HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 422 (Unprocessable Entity) ãŒè¿”ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ `{ "error": "Failed to decrypt workspace data" }` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] UI ã«ã€Œãƒ‡ãƒ¼ã‚¿ã®å¾©å·ã«å¤±æ•—ã—ã¾ã—ãŸã€ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### ãƒãƒ«ãƒãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹åˆ‡æ›¿æ™‚ã®æš—å·åŒ–å¢ƒç•Œãƒ†ã‚¹ãƒˆ

**æ‰‹é †:**
1. Workspace A ã‚’ä½œæˆã—ã€Lead "A-Lead-1" ã‚’è¿½åŠ 
2. Workspace B ã‚’ä½œæˆã—ã€Lead "B-Lead-1" ã‚’è¿½åŠ 
3. Workspace A ã«åˆ‡ã‚Šæ›¿ãˆ

**æ¤œè¨¼é …ç›®:**
- [ ] "A-Lead-1" ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] "B-Lead-1" ãŒè¡¨ç¤ºã•ã‚Œãªã„

**Workspace B ã«åˆ‡ã‚Šæ›¿ãˆ:**
- [ ] "B-Lead-1" ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] "A-Lead-1" ãŒè¡¨ç¤ºã•ã‚Œãªã„

---

#### å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿ï¼ˆ200KBè¿‘è¾ºï¼‰ã®æš—å·åŒ–ãƒ»å¾©å·ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

**æ‰‹é †:**
1. Workspace ã‚’ä½œæˆ
2. Leads ã‚’ 200ä»¶ã€Clients ã‚’ 100ä»¶ã€Tasks ã‚’ 300ä»¶è¿½åŠ ï¼ˆåˆè¨ˆ ~180KBæƒ³å®šï¼‰
3. ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
4. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰

**æ¤œè¨¼é …ç›®:**
- [ ] ä¿å­˜æ™‚é–“: P95 < 450msï¼ˆPerformance Specificationæº–æ‹ ï¼‰
- [ ] å¾©å·æ™‚é–“: P95 < 280msï¼ˆPerformance Specificationæº–æ‹ ï¼‰
- [ ] UI ãŒãƒ•ãƒªãƒ¼ã‚ºã—ãªã„
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶ DevTools ã® Network ã‚¿ãƒ–ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒç™ºç”Ÿã—ãªã„

**åˆæ ¼åŸºæº–:** ã™ã¹ã¦ã®æ¤œè¨¼é …ç›®ãŒ âœ… ã§ã‚ã‚‹ã“ã¨

**è¨ˆæ¸¬æ–¹æ³•:**
- Chrome DevTools ã® Performance ã‚¿ãƒ–ã§è¨ˆæ¸¬
- 5å›å®Ÿè¡Œã—ã€P95ï¼ˆ95ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ï¼‰ã‚’ç®—å‡º

---

#### AIæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆPhase 9.8-Bå®Œäº†ï¼‰

**æ‰‹é †:**
1. Workspace ã‚’ä½œæˆã—ã€Leads/Clients ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆå€‹äººæƒ…å ±å«ã‚€ï¼‰
2. AIåˆ†ææ©Ÿèƒ½ã‚’ä½¿ç”¨ï¼ˆ`/api/ai/chat` ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰

**æ¤œè¨¼é …ç›®:**
- [ ] AIContextLevel.MINIMAL ã§ã¯ PIIï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»é›»è©±ï¼‰ãŒé™¤å¤–ã•ã‚Œã‚‹
- [ ] AIContextLevel.STANDARD ã§ã¯å€‹äººåãŒãƒã‚¹ã‚­ãƒ³ã‚°ã•ã‚Œã‚‹ï¼ˆä¾‹: "å±±ç”°å¤ªéƒ" â†’ "å±±ç”°**"ï¼‰
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ5req/minï¼‰ãŒæ­£å¸¸ã«æ©Ÿèƒ½ã™ã‚‹ï¼ˆ6å›ç›®ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ 429 ã‚¨ãƒ©ãƒ¼ï¼‰
- [ ] AIåˆ©ç”¨ãŒ `audit_logs` ã«è¨˜éŒ²ã•ã‚Œã‚‹ï¼ˆaction: 'ai_request'ï¼‰
- [ ] `AI_ENABLED=false` ã®å ´åˆã€AIæ©Ÿèƒ½ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ï¼ˆ403 ã‚¨ãƒ©ãƒ¼ï¼‰

**åˆæ ¼åŸºæº–:** ã™ã¹ã¦ã®æ¤œè¨¼é …ç›®ãŒ âœ… ã§ã‚ã‚‹ã“ã¨

**å®Ÿè£…çŠ¶æ³:** âœ… Phase 9.8-B å®Œäº†ï¼ˆ2025-01-24ï¼‰

---

#### DBæ¥ç¶šäºŒé‡åŒ–ãƒ†ã‚¹ãƒˆï¼ˆPhase 9.8-Aå®Œäº†ï¼‰

**æ‰‹é †:**
1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
   ```bash
   npx tsx scripts/run-migration.ts
   ```
2. APIçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ãƒ»å–å¾—
   ```bash
   curl -X POST http://localhost:3000/api/workspaces
   ```

**æ¤œè¨¼é …ç›®:**
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒ Direct Connectionï¼ˆport 5432ï¼‰çµŒç”±ã§å®Ÿè¡Œã•ã‚Œã‚‹
- [ ] API ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ Transaction Poolerï¼ˆport 6543ï¼‰çµŒç”±ã§å‡¦ç†ã•ã‚Œã‚‹
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼å `postgres` ãŒä½¿ç”¨ã•ã‚Œã‚‹
- [ ] APIå®Ÿè¡Œæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼å `postgres.PROJECT_REF` ãŒä½¿ç”¨ã•ã‚Œã‚‹
- [ ] ä¸¡æ–¹ã®æ¥ç¶šãŒç‹¬ç«‹ã—ã¦æ­£å¸¸ã«å‹•ä½œã™ã‚‹

**åˆæ ¼åŸºæº–:** ã™ã¹ã¦ã®æ¤œè¨¼é …ç›®ãŒ âœ… ã§ã‚ã‚‹ã“ã¨

**å®Ÿè£…çŠ¶æ³:** âœ… Phase 9.8-A éƒ¨åˆ†å®Œäº†ï¼ˆ2025-01-24ï¼‰

---

#### Phase 10 ç§»è¡Œåˆ¤å®š

**ç·åˆåˆ¤å®š: âš ï¸ æ¡ä»¶ä»˜ãç§»è¡Œå¯èƒ½**

**GOæ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹é …ç›®:**
- âœ… AIåŸºç›¤å®Œå…¨å®Ÿè£…ï¼ˆPhase 9.8-B: 100%ï¼‰
- âœ… DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†
- âœ… Type Check å®Œå…¨Pass
- âœ… æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆèªè¨¼ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€RLSï¼‰æ­£å¸¸å‹•ä½œ

**Phase 10 ä¸¦è¡Œå®Ÿè£…ãŒæ¨å¥¨ã•ã‚Œã‚‹é …ç›®:**
- ğŸŸ¡ æ¥½è¦³çš„ãƒ­ãƒƒã‚¯APIå®Ÿè£…ï¼ˆPhase 10-3ï¼‰
- ğŸŸ¡ Validator å®Ÿè£…ï¼ˆPhase 10-3ï¼‰
- ğŸŸ¡ Conflict UI å®Ÿè£…ï¼ˆPhase 10-4ï¼‰
- ğŸŸ¡ ãƒ‡ãƒ¼ã‚¿åœ§ç¸®å®Ÿè£…ï¼ˆPhase 10-4ï¼‰
- ğŸŸ¡ ã‚¬ãƒãƒŠãƒ³ã‚¹UIå®Ÿè£…ï¼ˆPhase 10-5ï¼‰

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ:**
- Phase 10-0ã€œ10-2: TODOåŸºç¤æ©Ÿèƒ½å®Ÿè£…
- Phase 10-3: Phase 9.8-A æ®‹ã‚¿ã‚¹ã‚¯ï¼ˆæ¥½è¦³çš„ãƒ­ãƒƒã‚¯ã€Validatorï¼‰
- Phase 10-4: Phase 9.8-A æ®‹ã‚¿ã‚¹ã‚¯ï¼ˆConflict UIã€Compressionï¼‰
- Phase 10-5: Phase 9.8-C æ®‹ã‚¿ã‚¹ã‚¯ï¼ˆã‚¬ãƒãƒŠãƒ³ã‚¹UIï¼‰
- Phase 10-6: TODOæ‹¡å¼µæ©Ÿèƒ½ + çµ±åˆãƒ†ã‚¹ãƒˆ

---

**Last Updated**: 2025-11-24
**Version**: 4.0ï¼ˆDOCSçµ±å»ƒåˆç‰ˆ - guides/DEVELOPMENT.mdçµ±åˆç‰ˆï¼‰
